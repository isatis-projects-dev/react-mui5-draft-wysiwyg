{"version":3,"file":"index.js","sources":["../src/EditorToolbar/controls/DividerControl/index.jsx","../src/hooks/useEditor.js","../src/hooks/useEditorFocus.js","../src/EditorToolbar/controls/core/ButtonControl.jsx","../src/EditorToolbar/controls/UndoControl/index.jsx","../src/EditorToolbar/controls/RedoControl/index.jsx","../src/utils/editorStateUtils.js","../src/EditorToolbar/controls/core/ToggleInlineStyleButtonControl.jsx","../src/types/inlineStyles.js","../src/EditorToolbar/controls/BoldControl/index.jsx","../src/EditorToolbar/controls/ItalicControl/index.jsx","../src/EditorToolbar/controls/UnderlineControl/index.jsx","../src/EditorToolbar/controls/StrikethroughControl/index.jsx","../src/types/entities.js","../src/EditorToolbar/controls/LinkAddControl/index.jsx","../src/EditorToolbar/controls/LinkAddControl/plugin.js","../src/EditorToolbar/controls/LinkRemoveControl/index.jsx","../src/types/lang.js","../src/utils/translateUtils.js","../src/EditorToolbar/controls/core/DropdownControl.jsx","../src/EditorToolbar/controls/BlockTypeControl/index.jsx","../src/EditorToolbar/controls/core/ToggleBlockTypeButtonControl.jsx","../src/EditorToolbar/controls/UnorderedListControl/index.jsx","../src/types/blockStyles.js","../src/EditorToolbar/controls/OrderedListControl/index.jsx","../src/EditorToolbar/controls/FontFamilyControl/index.jsx","../src/EditorToolbar/controls/FontFamilyControl/plugin.js","../src/EditorToolbar/controls/TextAlignControl/index.jsx","../src/EditorToolbar/controls/TextAlignControl/plugin.js","../src/EditorToolbar/controls/FontSizeControl/index.jsx","../src/EditorToolbar/controls/FontSizeControl/plugin.js","../src/utils/colorUtils.js","../src/EditorToolbar/controls/core/ColorSelectorControl/index.jsx","../src/EditorToolbar/controls/core/ToggleInlineStyleColorSelectorControl.jsx","../src/EditorToolbar/controls/FontColorControl/index.jsx","../src/EditorToolbar/controls/FontColorControl/plugin.js","../src/EditorToolbar/controls/FontBackgroundColorControl/index.jsx","../src/EditorToolbar/controls/FontBackgroundColorControl/plugin.js","../src/EditorToolbar/controls/ImageControl/dialogs/image/ImageToUpload.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/inputs/SizeInputs.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/ByURLDialog.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/UploadDialog.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/ResizeImageDialog.js","../src/EditorToolbar/controls/ImageControl/index.jsx","../src/EditorToolbar/controls/ImageControl/plugin.js","../src/utils/fileUtils.js","../src/types/editorToolbar.js","../src/types/config.js","../src/utils/objectUtils.js","../src/lang/translations/ca.js","../src/lang/translations/en.js","../src/lang/translations/es.js","../src/lang/languages.js","../src/utils/EditorFactories.js","../src/EditorToolbar/index.jsx","../src/lang/Translator.js","../src/conversion/toHTML/block.js","../src/conversion/toHTML/entity.js","../src/conversion/toHTML/inlineStyle.js","../src/conversion/toHTML/index.js","../src/index.jsx"],"sourcesContent":["import React from 'react';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nfunction DividerControl() {\r\n    return <Divider orientation=\"vertical\" flexItem />;\r\n}\r\n\r\nexport default DividerControl;\r\n","import React from 'react';\r\nimport { EditorContext } from '../index';\r\n\r\nexport default function useEditor() {\r\n    return React.useContext(EditorContext);\r\n}\r\n","import React from 'react';\r\nimport useEditor from './useEditor';\r\n\r\nexport default function useEditorFocus() {\r\n    const editor = useEditor();\r\n    const [changesCount, setChangesCount] = React.useState(0);\r\n\r\n    React.useEffect(() => {\r\n        if (changesCount > 0) editor.ref.focus();\r\n    }, [changesCount, editor.ref]);\r\n\r\n    return () => {\r\n        setChangesCount((currentChangesCount) => currentChangesCount + 1);\r\n    };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Badge from '@mui/material/Badge';\r\n\r\n\r\nconst useStyles = (props) => ({\r\n    badge: {\r\n        background: props.badgeColor,\r\n    },\r\n});\r\n\r\nfunction ButtonControl({\r\n    children,\r\n    onClick,\r\n    disabled = false,\r\n    active = false,\r\n    text = '',\r\n    badgeColor = null,\r\n    ...rest\r\n}) {\r\n    const classes = useStyles({ badgeColor });\r\n    return (\r\n        <Tooltip title={text} aria-disabled={disabled}>\r\n            <span>\r\n                <IconButton\r\n                    onClick={onClick}\r\n                    disabled={disabled}\r\n                    color={active ? 'primary' : 'default'}\r\n                    {...rest}>\r\n                    <Badge\r\n                        anchorOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'left',\r\n                        }}\r\n                        classes={{ badge: classes.badge }}\r\n                        overlap=\"circular\"\r\n                        badgeContent=\" \"\r\n                        invisible={badgeColor === null}\r\n                        variant=\"dot\">\r\n                        {children}\r\n                    </Badge>\r\n                </IconButton>\r\n            </span>\r\n        </Tooltip>\r\n    );\r\n}\r\n\r\nButtonControl.propTypes = {\r\n    children: PropTypes.any.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    disabled: PropTypes.bool,\r\n    text: PropTypes.any,\r\n    badgeColor: PropTypes.any,\r\n    active: PropTypes.bool,\r\n};\r\n\r\nexport default ButtonControl;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { EditorState } from 'draft-js';\r\nimport ButtonControl from '../core/ButtonControl';\r\nimport UndoIcon from '@mui/icons-material/Undo';\r\n\r\nfunction UndoControl() {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n\r\n    const onClick = () => {\r\n        editor.onChange(EditorState.undo(editor.editorState));\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <ButtonControl onClick={onClick} text={editor.translate('controls.undo.title')}>\r\n            <UndoIcon />\r\n        </ButtonControl>\r\n    );\r\n}\r\n\r\nexport default UndoControl;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { EditorState } from 'draft-js';\r\nimport ButtonControl from '../core/ButtonControl';\r\nimport RedoIcon from '@mui/icons-material/Redo';\r\n\r\nfunction RedoControl() {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n\r\n    const onClick = () => {\r\n        editor.onChange(EditorState.redo(editor.editorState));\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <ButtonControl onClick={onClick} text={editor.translate('controls.redo.title')}>\r\n            <RedoIcon />\r\n        </ButtonControl>\r\n    );\r\n}\r\n\r\nexport default RedoControl;\r\n","import { EditorState, Modifier, RichUtils } from 'draft-js';\r\n\r\nexport const toggleMappedInlineStyle = (editorState, styleKeys, newInlineStyle) => {\r\n    const selection = editorState.getSelection();\r\n\r\n    // Turn off the other mapped inline styled in selection\r\n    const newContentState = styleKeys.reduce(\r\n        (contentState, inlineStyle) =>\r\n            Modifier.removeInlineStyle(contentState, selection, inlineStyle),\r\n        editorState.getCurrentContent()\r\n    );\r\n\r\n    let newEditorState = EditorState.push(editorState, newContentState, 'change-inline-style');\r\n\r\n    const currentStyle = editorState.getCurrentInlineStyle();\r\n\r\n    if (selection.isCollapsed()) {\r\n        newEditorState = currentStyle.reduce((state, inlineStyle) => {\r\n            return RichUtils.toggleInlineStyle(state, inlineStyle);\r\n        }, newEditorState);\r\n    }\r\n    // If the inline style is being toggled on, apply it.\r\n    if (!currentStyle.has(newInlineStyle)) {\r\n        newEditorState = RichUtils.toggleInlineStyle(newEditorState, newInlineStyle);\r\n    }\r\n\r\n    return newEditorState;\r\n};\r\n\r\nexport const getCurrentMappedInlineStyle = (editorState, styleKeys, defaultInlineStyle = null) => {\r\n    const currentStyle = editorState.getCurrentInlineStyle();\r\n    return (\r\n        currentStyle.find((inlineStyle) => styleKeys.includes(inlineStyle)) || defaultInlineStyle\r\n    );\r\n};\r\n\r\nexport const hasAllSelectionTheInlineStyle = (editorState, inlineStyle) => {\r\n    const selection = editorState.getSelection();\r\n    const startKey = selection.getStartKey();\r\n    const startOffset = selection.getStartOffset();\r\n    const endKey = selection.getEndKey();\r\n    const endOffset = selection.getEndOffset();\r\n\r\n    const currentContent = editorState.getCurrentContent();\r\n\r\n    let block = currentContent.getBlockForKey(startKey);\r\n    let allHasTheInlineStyle = true;\r\n\r\n    const styleRangesCallback = (block) => (start, end) => {\r\n        const expectedStart = block.getKey() === startKey ? startOffset : 0;\r\n        const expectedEnd = block.getKey() === endKey ? endOffset : block.getLength() - 1;\r\n        allHasTheInlineStyle = start <= expectedStart && end >= expectedEnd;\r\n    };\r\n\r\n    while (block && allHasTheInlineStyle) {\r\n        allHasTheInlineStyle = false;\r\n        block.findStyleRanges(\r\n            (character) => character.hasStyle(inlineStyle),\r\n            styleRangesCallback(block)\r\n        );\r\n        if (block.getKey() !== endKey) break;\r\n        block = currentContent.getBlockAfter(block.getKey());\r\n    }\r\n\r\n    return allHasTheInlineStyle;\r\n};\r\n\r\nexport const getCurrentBlockType = (editorState, availableBlockTypes) => {\r\n    const blockType = RichUtils.getCurrentBlockType(editorState);\r\n    if (availableBlockTypes.find((avBlockType) => avBlockType === blockType)) return blockType;\r\n    return 'default';\r\n};\r\n\r\nexport const applyEntityToCurrentSelection = (editorState, entityType, mutability, entityData) => {\r\n    const content = editorState.getCurrentContent();\r\n    const contentWithEntity = content.createEntity(entityType, mutability, entityData);\r\n    const entityKey = contentWithEntity.getLastCreatedEntityKey();\r\n    const selection = editorState.getSelection();\r\n    const contentStateWithEntity = Modifier.applyEntity(contentWithEntity, selection, entityKey);\r\n    return EditorState.push(editorState, contentStateWithEntity, 'apply-entity');\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { RichUtils } from 'draft-js';\r\nimport ButtonControl from './ButtonControl';\r\nimport { hasAllSelectionTheInlineStyle } from '../../../utils/editorStateUtils';\r\n\r\nToggleInlineStyleButtonControl.propTypes = {\r\n    inlineStyle: PropTypes.string.isRequired,\r\n    children: PropTypes.any.isRequired,\r\n    text: PropTypes.any,\r\n};\r\n\r\nfunction ToggleInlineStyleButtonControl({ inlineStyle, children, text }) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const [isActive, setIsActive] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        setIsActive(hasAllSelectionTheInlineStyle(editor.editorState, inlineStyle));\r\n    }, [editor.editorState, inlineStyle]);\r\n\r\n    const onClick = () => {\r\n        const newEditorState = RichUtils.toggleInlineStyle(editor.editorState, inlineStyle);\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <ButtonControl\r\n            text={text}\r\n            onClick={onClick}\r\n            active={isActive}\r\n            disabled={editor.editorState.getSelection().isCollapsed()}>\r\n            {children}\r\n        </ButtonControl>\r\n    );\r\n}\r\n\r\nexport default ToggleInlineStyleButtonControl;\r\n","export default {\r\n    BOLD: 'BOLD',\r\n    ITALIC: 'ITALIC',\r\n    UNDERLINE: 'UNDERLINE',\r\n    STRIKETHROUGH: 'STRIKETHROUGH',\r\n    CODE: 'CODE',\r\n    FONT_FAMILY: 'FONT_FAMILY',\r\n    FONT_SIZE: 'FONT_SIZE',\r\n    FONT_COLOR: 'FONT_COLOR',\r\n    FONT_BACKGROUND: 'FONT_BACKGROUND',\r\n};\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\r\nimport FormatBoldIcon from '@mui/icons-material/FormatBold';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\n\r\nfunction BoldControl() {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleInlineStyleButtonControl\r\n            inlineStyle={inlineStyles.BOLD}\r\n            text={editor.translate('controls.bold.title')}>\r\n            <FormatBoldIcon />\r\n        </ToggleInlineStyleButtonControl>\r\n    );\r\n}\r\n\r\nexport default BoldControl;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\r\nimport FormatItalicIcon from '@mui/icons-material/FormatItalic';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\n\r\nfunction ItalicControl() {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleInlineStyleButtonControl\r\n            inlineStyle={inlineStyles.ITALIC}\r\n            text={editor.translate('controls.italic.title')}>\r\n            <FormatItalicIcon />\r\n        </ToggleInlineStyleButtonControl>\r\n    );\r\n}\r\n\r\nexport default ItalicControl;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\r\nimport FormatUnderlinedIcon from '@mui/icons-material/FormatUnderlined';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\n\r\nfunction UnderlineControl() {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleInlineStyleButtonControl\r\n            inlineStyle={inlineStyles.UNDERLINE}\r\n            text={editor.translate('controls.underline.title')}>\r\n            <FormatUnderlinedIcon />\r\n        </ToggleInlineStyleButtonControl>\r\n    );\r\n}\r\n\r\nexport default UnderlineControl;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\r\nimport FormatStrikethroughIcon from '@mui/icons-material/FormatStrikethrough';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\n\r\nfunction StrikethroughControl() {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleInlineStyleButtonControl\r\n            inlineStyle={inlineStyles.STRIKETHROUGH}\r\n            text={editor.translate('controls.strikethrough.title')}>\r\n            <FormatStrikethroughIcon />\r\n        </ToggleInlineStyleButtonControl>\r\n    );\r\n}\r\n\r\nexport default StrikethroughControl;\r\n","export default {\r\n    LINK: 'LINK',\r\n    IMAGE: 'IMAGE',\r\n};\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport ButtonControl from '../core/ButtonControl';\r\nimport LinkIcon from '@mui/icons-material/Link';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport TextField from '@mui/material/TextField';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Button from '@mui/material/Button';\r\nimport entities from '../../../types/entities';\r\nimport { applyEntityToCurrentSelection } from '../../../utils/editorStateUtils';\r\n\r\nfunction LinkAddControl() {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const [isDialogOpened, setIsDialogOpened] = React.useState(false);\r\n    const [link, setLink] = React.useState('');\r\n    const formRef = React.createRef();\r\n\r\n    const onClick = () => {\r\n        setLink('');\r\n        setIsDialogOpened(true);\r\n    };\r\n\r\n    const handleCloseDialog = () => {\r\n        setIsDialogOpened(false);\r\n    };\r\n\r\n    const onChangeLink = (ev) => {\r\n        setLink(ev.currentTarget.value);\r\n    };\r\n\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        if (link === '') return;\r\n        handleCloseDialog();\r\n        editor.onChange(\r\n            applyEntityToCurrentSelection(editor.editorState, entities.LINK, 'MUTABLE', {\r\n                url: link,\r\n            })\r\n        );\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonControl\r\n                onClick={onClick}\r\n                text={editor.translate('controls.linkAdd.title')}\r\n                disabled={editor.editorState.getSelection().isCollapsed()}>\r\n                <LinkIcon />\r\n            </ButtonControl>\r\n            <Dialog open={isDialogOpened} onClose={handleCloseDialog}>\r\n                <form ref={formRef} onSubmit={handleSubmit}>\r\n                    <DialogContent>\r\n                        <TextField\r\n                            autoFocus\r\n                            label={editor.translate('controls.linkAdd.labels.link')}\r\n                            value={link}\r\n                            onChange={onChangeLink}\r\n                            fullWidth\r\n                        />\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button type=\"button\" onClick={handleCloseDialog} color=\"primary\">\r\n                            {editor.translate('controls.linkAdd.actions.cancel')}\r\n                        </Button>\r\n                        <Button type=\"submit\" color=\"primary\" disabled={link === ''}>\r\n                            {editor.translate('controls.linkAdd.actions.add')}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default LinkAddControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { RichUtils, SelectionState } from 'draft-js';\r\nimport Link from '@mui/material/Link';\r\nimport entities from '../../../types/entities';\r\nimport Popover from '@mui/material/Popover';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport LaunchIcon from '@mui/icons-material/Launch';\r\nimport LinkOffIcon from '@mui/icons-material/LinkOff';\r\n\r\nconst linkStrategy = (contentBlock, callback, contentState) => {\r\n    contentBlock.findEntityRanges((character) => {\r\n        const entityKey = character.getEntity();\r\n        return entityKey !== null && contentState.getEntity(entityKey).getType() === entities.LINK;\r\n    }, callback);\r\n};\r\n\r\nconst EditorLink = ({ contentState, entityKey, blockKey, start, end, children }) => {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const { url } = contentState.getEntity(entityKey).getData();\r\n\r\n    const showOptions = (ev) => {\r\n        setAnchorEl(ev.currentTarget);\r\n    };\r\n\r\n    const hideOptions = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const openLink = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        window.open(url, '_blank');\r\n    };\r\n\r\n    const removeLink = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const linkSelection = SelectionState.createEmpty(blockKey).merge({\r\n            anchorKey: blockKey,\r\n            anchorOffset: start,\r\n            focusKey: blockKey,\r\n            focusOffset: end,\r\n        });\r\n\r\n        editor.onChange(RichUtils.toggleLink(editor.editorState, linkSelection, null));\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Link\r\n                href={url}\r\n                rel=\"noopener noreferrer\"\r\n                target=\"_blank\"\r\n                aria-label={url}\r\n                onClick={showOptions}>\r\n                {children}\r\n            </Link>\r\n            <Popover\r\n                open={Boolean(anchorEl)}\r\n                onClose={hideOptions}\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}>\r\n                <ButtonGroup size=\"small\" aria-label=\"Link options\">\r\n                    <Button onClick={openLink} title={`Open ${url}`}>\r\n                        <LaunchIcon />\r\n                    </Button>\r\n                    <Button onClick={removeLink} title=\"Remove link\">\r\n                        <LinkOffIcon />\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Popover>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nEditorLink.propTypes = {\r\n    contentState: PropTypes.object.isRequired,\r\n    entityKey: PropTypes.string.isRequired,\r\n    blockKey: PropTypes.string.isRequired,\r\n    start: PropTypes.number.isRequired,\r\n    end: PropTypes.number.isRequired,\r\n    children: PropTypes.any,\r\n};\r\n\r\nconst linkAddPlugin = () => ({\r\n    decorators: [\r\n        {\r\n            strategy: linkStrategy,\r\n            component: EditorLink,\r\n        },\r\n    ],\r\n});\r\n\r\nexport default linkAddPlugin;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport { RichUtils } from 'draft-js';\r\nimport ButtonControl from '../core/ButtonControl';\r\nimport LinkOffIcon from '@mui/icons-material/LinkOff';\r\n\r\nfunction LinkRemoveControl() {\r\n    const editor = useEditor();\r\n\r\n    const onClick = () => {\r\n        const selection = editor.editorState.getSelection();\r\n        editor.onChange(RichUtils.toggleLink(editor.editorState, selection, null));\r\n    };\r\n\r\n    return (\r\n        <ButtonControl\r\n            onClick={onClick}\r\n            text={editor.translate('controls.linkRemove.title')}\r\n            disabled={editor.editorState.getSelection().isCollapsed()}>\r\n            <LinkOffIcon />\r\n        </ButtonControl>\r\n    );\r\n}\r\n\r\nexport default LinkRemoveControl;\r\n","export const LANG_PREFIX = 'lang::';\r\n","import { LANG_PREFIX } from '../types/lang';\r\n\r\nexport const translateLiteralWithPrefix = (literal, translateFn) =>\r\n    (typeof literal === 'string' || literal instanceof String) &&\r\n    literal.substr(0, LANG_PREFIX.length) === LANG_PREFIX\r\n        ? translateFn(literal.substr(LANG_PREFIX.length))\r\n        : literal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport { translateLiteralWithPrefix } from '../../../utils/translateUtils';\r\nimport { useTheme } from '@mui/material';\r\n\r\nconst useStyles = (theme) => {\r\n    return {\r\n        selectControl: {\r\n            margin: '5px',\r\n        },\r\n    };\r\n};\r\n\r\nfunction DropdownControl({ value, onChange, options, minWidth = 120, ...rest }) {\r\n    const classes = useStyles(useTheme());\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <Select\r\n            value={value}\r\n            onChange={(ev) => onChange(ev.target.value)}\r\n            className={classes.selectControl}\r\n            style={{ minWidth, margin: '5px' }}\r\n            {...rest}>\r\n            {options.map((option) => (\r\n                <MenuItem key={option.value || 'empty'} value={option.value}>\r\n                    {option.text ? translateLiteralWithPrefix(option.text, editor.translate) : ''}\r\n                </MenuItem>\r\n            ))}\r\n        </Select>\r\n    );\r\n}\r\n\r\nDropdownControl.propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n    options: PropTypes.array.isRequired,\r\n    minWidth: PropTypes.number,\r\n};\r\n\r\nexport default DropdownControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DropdownControl from '../core/DropdownControl';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { RichUtils } from 'draft-js';\r\nimport { getCurrentBlockType } from '../../../utils/editorStateUtils';\r\n\r\nfunction BlockTypeControl({ configuration, defaultConfiguration }) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const options = configuration.options || defaultConfiguration.options;\r\n    const [value, setValue] = React.useState('default');\r\n\r\n    React.useEffect(() => {\r\n        setValue(\r\n            getCurrentBlockType(\r\n                editor.editorState,\r\n                options.map((option) => option.value)\r\n            )\r\n        );\r\n    }, [editor, options]);\r\n\r\n    const handleChange = (newValue) => {\r\n        setValue(newValue);\r\n        const newEditorState = RichUtils.toggleBlockType(\r\n            editor.editorState,\r\n            newValue === 'normal' ? '' : newValue\r\n        );\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return <DropdownControl options={options} onChange={handleChange} value={value} />;\r\n}\r\n\r\nBlockTypeControl.propTypes = {\r\n    configuration: PropTypes.any,\r\n    defaultConfiguration: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default BlockTypeControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { RichUtils } from 'draft-js';\r\nimport ButtonControl from './ButtonControl';\r\n\r\nToggleBlockTypeButtonControl.propTypes = {\r\n    blockType: PropTypes.string.isRequired,\r\n    children: PropTypes.any.isRequired,\r\n    text: PropTypes.any,\r\n};\r\n\r\nfunction ToggleBlockTypeButtonControl({ blockType, children, text }) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n\r\n    const onClick = () => {\r\n        const newEditorState = RichUtils.toggleBlockType(editor.editorState, blockType);\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <ButtonControl text={text} onClick={onClick}>\r\n            {children}\r\n        </ButtonControl>\r\n    );\r\n}\r\n\r\nexport default ToggleBlockTypeButtonControl;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport ToggleBlockTypeButtonControl from '../core/ToggleBlockTypeButtonControl';\r\nimport FormatListBulletedIcon from '@mui/icons-material/FormatListBulleted';\r\n\r\nfunction UnorderedListControl() {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleBlockTypeButtonControl\r\n            blockType=\"unordered-list-item\"\r\n            text={editor.translate('controls.unorderedList.title')}>\r\n            <FormatListBulletedIcon />\r\n        </ToggleBlockTypeButtonControl>\r\n    );\r\n}\r\n\r\nexport default UnorderedListControl;\r\n","export default {\r\n    H1: 'header-one',\r\n    H2: 'header-two',\r\n    H3: 'header-three',\r\n    H4: 'header-four',\r\n    H5: 'header-five',\r\n    H6: 'header-six',\r\n    UL: 'unordered-list-item',\r\n    OL: 'ordered-list-item',\r\n    BLOCKQUOTE: 'blockquote',\r\n    CODE_BLOCK: 'code-block',\r\n    UNSTYLED: 'unstyled',\r\n    ATOMIC: 'atomic',\r\n};\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport ToggleBlockTypeButtonControl from '../core/ToggleBlockTypeButtonControl';\r\nimport FormatListNumberedIcon from '@mui/icons-material/FormatListNumbered';\r\nimport blockStyles from '../../../types/blockStyles';\r\n\r\nfunction OrderedListControl() {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleBlockTypeButtonControl\r\n            blockType={blockStyles.OL}\r\n            text={editor.translate('controls.orderedList.title')}>\r\n            <FormatListNumberedIcon />\r\n        </ToggleBlockTypeButtonControl>\r\n    );\r\n}\r\n\r\nexport default OrderedListControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport DropdownControl from '../core/DropdownControl';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\nimport {\r\n    getCurrentMappedInlineStyle,\r\n    toggleMappedInlineStyle,\r\n} from '../../../utils/editorStateUtils';\r\n\r\nfunction FontFamilyControl({ pluginData }) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const [selectedFontFamilyStyle, setSelectedFontFamilyStyle] = React.useState(\r\n        `${inlineStyles.FONT_FAMILY}-default`\r\n    );\r\n    const styleKeys = Object.keys(pluginData.customStyleMap);\r\n\r\n    React.useEffect(() => {\r\n        setSelectedFontFamilyStyle(\r\n            getCurrentMappedInlineStyle(\r\n                editor.editorState,\r\n                styleKeys,\r\n                `${inlineStyles.FONT_FAMILY}-default`\r\n            )\r\n        );\r\n    }, [editor.editorState, styleKeys]);\r\n\r\n    const handleChange = (newInlineStyle) => {\r\n        setSelectedFontFamilyStyle(newInlineStyle);\r\n        const newEditorState = toggleMappedInlineStyle(\r\n            editor.editorState,\r\n            styleKeys,\r\n            newInlineStyle\r\n        );\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <DropdownControl\r\n            options={styleKeys.map((inlineStyle) => ({\r\n                value: inlineStyle,\r\n                text: pluginData.customStyleMap[inlineStyle].fontFamily ? (\r\n                    <span\r\n                        style={{\r\n                            fontFamily: pluginData.customStyleMap[inlineStyle].fontFamily,\r\n                        }}>\r\n                        {pluginData.customStyleMap[inlineStyle].fontFamily}\r\n                    </span>\r\n                ) : (\r\n                    'default'\r\n                ),\r\n            }))}\r\n            onChange={handleChange}\r\n            value={selectedFontFamilyStyle}\r\n        />\r\n    );\r\n}\r\n\r\nFontFamilyControl.propTypes = {\r\n    pluginData: PropTypes.any.isRequired,\r\n};\r\n\r\nexport default FontFamilyControl;\r\n","import inlineStyles from '../../../types/inlineStyles';\r\n\r\nconst fontFamilyPlugin = (configuration, defaultConfiguration) => {\r\n    const fontFamilies = configuration.options || defaultConfiguration.options;\r\n    const customStyleMap = {};\r\n    for (const fontFamily of fontFamilies) {\r\n        customStyleMap[`${inlineStyles.FONT_FAMILY}-${fontFamily}`] =\r\n            fontFamily === 'default'\r\n                ? {}\r\n                : {\r\n                      fontFamily,\r\n                  };\r\n    }\r\n    return { customStyleMap };\r\n};\r\n\r\nexport default fontFamilyPlugin;\r\n","import React from 'react';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport { Modifier, EditorState } from 'draft-js';\r\nimport FormatAlignLeftIcon from '@mui/icons-material/FormatAlignLeft';\r\nimport FormatAlignCenterIcon from '@mui/icons-material/FormatAlignCenter';\r\nimport FormatAlignRightIcon from '@mui/icons-material/FormatAlignRight';\r\nimport FormatAlignJustifyIcon from '@mui/icons-material/FormatAlignJustify';\r\nimport ButtonControl from '../core/ButtonControl';\r\n\r\nfunction TextAlignControl() {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const [selectedTextAlign, setSelectedTextAlign] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        const selection = editor.editorState.getSelection();\r\n        const currentBlock = editor.editorState\r\n            .getCurrentContent()\r\n            .getBlockForKey(selection.getStartKey());\r\n        const blockData = currentBlock.getData();\r\n        if (blockData && blockData.get('textAlign')) {\r\n            setSelectedTextAlign(blockData.get('textAlign'));\r\n        } else {\r\n            setSelectedTextAlign(null);\r\n        }\r\n    }, [editor.editorState]);\r\n\r\n    const toggle = (textAlign) => {\r\n        setSelectedTextAlign(textAlign);\r\n        const { editorState } = editor;\r\n        const newContentState = Modifier.mergeBlockData(\r\n            editorState.getCurrentContent(),\r\n            editorState.getSelection(),\r\n            { textAlign }\r\n        );\r\n        editor.onChange(EditorState.push(editorState, newContentState, 'change-block-data'));\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonControl\r\n                active={selectedTextAlign === 'left'}\r\n                onClick={() => toggle('left')}\r\n                text={editor.translate('controls.textAlign.actions.alignLeft')}>\r\n                <FormatAlignLeftIcon />\r\n            </ButtonControl>\r\n            <ButtonControl\r\n                active={selectedTextAlign === 'center'}\r\n                onClick={() => toggle('center')}\r\n                text={editor.translate('controls.textAlign.actions.alignCenter')}>\r\n                <FormatAlignCenterIcon />\r\n            </ButtonControl>\r\n            <ButtonControl\r\n                active={selectedTextAlign === 'right'}\r\n                onClick={() => toggle('right')}\r\n                text={editor.translate('controls.textAlign.actions.alignRight')}>\r\n                <FormatAlignRightIcon />\r\n            </ButtonControl>\r\n            <ButtonControl\r\n                active={selectedTextAlign === 'justify'}\r\n                onClick={() => toggle('justify')}\r\n                text={editor.translate('controls.textAlign.actions.justify')}>\r\n                <FormatAlignJustifyIcon />\r\n            </ButtonControl>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nTextAlignControl.propTypes = {};\r\n\r\nexport default TextAlignControl;\r\n","const textAlignPlugin = () => ({\r\n    blockStyleFn: (block) => {\r\n        const textAlign = block.getData() ? block.getData().get('textAlign') : null;\r\n        if (textAlign) {\r\n            return `mui-editor-${textAlign}-aligned-block`;\r\n        }\r\n\r\n        return '';\r\n    },\r\n});\r\n\r\nexport default textAlignPlugin;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport DropdownControl from '../core/DropdownControl';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\nimport {\r\n    getCurrentMappedInlineStyle,\r\n    toggleMappedInlineStyle,\r\n} from '../../../utils/editorStateUtils';\r\n\r\nFontSizeControl.propTypes = {\r\n    pluginData: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction FontSizeControl({ pluginData }) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const [selectedFontSizeStyle, setSelectedFontSizeStyle] = React.useState(\r\n        `${inlineStyles.FONT_SIZE}-default`\r\n    );\r\n    const styleKeys = Object.keys(pluginData.customStyleMap);\r\n\r\n    React.useEffect(() => {\r\n        setSelectedFontSizeStyle(\r\n            getCurrentMappedInlineStyle(\r\n                editor.editorState,\r\n                styleKeys,\r\n                `${inlineStyles.FONT_SIZE}-default`\r\n            )\r\n        );\r\n    }, [editor.editorState, styleKeys]);\r\n\r\n    const handleChange = (newInlineStyle) => {\r\n        setSelectedFontSizeStyle(newInlineStyle);\r\n        const newEditorState = toggleMappedInlineStyle(\r\n            editor.editorState,\r\n            styleKeys,\r\n            newInlineStyle\r\n        );\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <DropdownControl\r\n            options={styleKeys.map((inlineStyle) => ({\r\n                text: pluginData.customStyleMap[inlineStyle].fontSize ? (\r\n                    <span style={{ fontSize: pluginData.customStyleMap[inlineStyle].fontSize }}>\r\n                        {pluginData.customStyleMap[inlineStyle].fontSize}\r\n                    </span>\r\n                ) : (\r\n                    'default'\r\n                ),\r\n                value: inlineStyle,\r\n            }))}\r\n            onChange={handleChange}\r\n            renderValue={(style) =>\r\n                pluginData.customStyleMap[style].fontSize ||\r\n                editor.translate('controls.fontSize.labels.default')\r\n            }\r\n            value={selectedFontSizeStyle}\r\n            minWidth={50}\r\n        />\r\n    );\r\n}\r\n\r\nexport default FontSizeControl;\r\n","import inlineStyles from '../../../types/inlineStyles';\r\n\r\nconst fontSizePlugin = (configuration, defaultConfiguration) => {\r\n    const fontSizes = configuration.options || defaultConfiguration.options;\r\n    const customStyleMap = {};\r\n    for (const fontSize of fontSizes) {\r\n        customStyleMap[`${inlineStyles.FONT_SIZE}-${fontSize}`] =\r\n            fontSize === 'default' ? {} : { fontSize };\r\n    }\r\n    return { customStyleMap };\r\n};\r\n\r\nexport default fontSizePlugin;\r\n","// Created by Andreas Wik\r\nexport const isLightOrDark = (color) => {\r\n    let r, g, b;\r\n    // Check the format of the color, HEX or RGB?\r\n    if (color.match(/^rgb/)) {\r\n        // If HEX --> store the red, green, blue values in separate variables\r\n        color = color.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\r\n\r\n        r = color[1];\r\n        g = color[2];\r\n        b = color[3];\r\n    } else {\r\n        // If RGB --> Convert it to HEX: http://gist.github.com/983661\r\n        color = +('0x' + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));\r\n\r\n        r = color >> 16;\r\n        g = (color >> 8) & 255;\r\n        b = color & 255;\r\n    }\r\n\r\n    // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html\r\n    const hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\r\n\r\n    // Using the HSP value, determine whether the color is light or dark\r\n    if (hsp > 127.5) {\r\n        return 'light';\r\n    } else {\r\n        return 'dark';\r\n    }\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ButtonControl from '../ButtonControl';\r\nimport Popover from '@mui/material/Popover';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport FormatColorResetIcon from '@mui/icons-material/FormatColorReset';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport { isLightOrDark } from '../../../../utils/colorUtils';\r\nimport Button from '@mui/material/Button';\r\n\r\nconst useStyles = () => ({\r\n    colorRow: {\r\n        display: 'flex',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 5,\r\n    },\r\n    colorItem: {\r\n        height: 25,\r\n        width: 25,\r\n        borderRadius: '50%',\r\n        margin: 3,\r\n        border: 'solid 1px #c4c4c4',\r\n        cursor: 'pointer',\r\n        display: 'flex',\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n});\r\n\r\nfunction ColorSelectorControl({\r\n    selectedColor,\r\n    onSelectColor,\r\n    colors,\r\n    colorsPerRow = 10,\r\n    children,\r\n    ...rest\r\n}) {\r\n    const classes = useStyles();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const menuId = Math.random().toString(36).substring(8);\r\n    const colorRows = [[]];\r\n    for (let i = 0, rowI = 0; i < colors.length; i++) {\r\n        if (i % colorsPerRow === 0) {\r\n            rowI++;\r\n            colorRows[rowI] = [];\r\n        }\r\n        colorRows[rowI].push(colors[i]);\r\n    }\r\n\r\n    const handleOpen = (ev) => {\r\n        setAnchorEl(ev.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonControl\r\n                onClick={handleOpen}\r\n                aria-controls={menuId}\r\n                aria-haspopup=\"true\"\r\n                badgeColor={selectedColor ? selectedColor.color : null}\r\n                {...rest}>\r\n                {children}\r\n            </ButtonControl>\r\n            <Popover\r\n                id={menuId}\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}>\r\n                <React.Fragment>\r\n                    <Button\r\n                        startIcon={<FormatColorResetIcon />}\r\n                        fullWidth\r\n                        color=\"secondary\"\r\n                        onClick={() => {\r\n                            handleClose();\r\n                            onSelectColor(null);\r\n                        }}>\r\n                        None\r\n                    </Button>\r\n                    {colorRows.map((colorRow, colorRowI) => (\r\n                        <div key={`color-row-${colorRowI}`} className={classes.colorRow}>\r\n                            {colorRow.map((colorData) => (\r\n                                <Tooltip key={colorData.value} title={colorData.text}>\r\n                                    <div\r\n                                        onClick={() => {\r\n                                            handleClose();\r\n                                            onSelectColor(colorData);\r\n                                        }}\r\n                                        className={classes.colorItem}\r\n                                        style={{\r\n                                            backgroundColor: colorData.color,\r\n                                        }}>\r\n                                        {selectedColor &&\r\n                                        colorData.value === selectedColor.value ? (\r\n                                            <CheckIcon\r\n                                                style={{\r\n                                                    color:\r\n                                                        isLightOrDark(colorData.color) === 'dark'\r\n                                                            ? '#fff'\r\n                                                            : '#000',\r\n                                                }}\r\n                                            />\r\n                                        ) : null}\r\n                                    </div>\r\n                                </Tooltip>\r\n                            ))}\r\n                        </div>\r\n                    ))}\r\n                </React.Fragment>\r\n            </Popover>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nColorSelectorControl.propTypes = {\r\n    selectedColor: PropTypes.object,\r\n    onSelectColor: PropTypes.func.isRequired,\r\n    colors: PropTypes.array.isRequired,\r\n    colorsPerRow: PropTypes.number,\r\n    children: PropTypes.any,\r\n};\r\n\r\nexport default ColorSelectorControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ColorSelectorControl from '../core/ColorSelectorControl';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport {\r\n    getCurrentMappedInlineStyle,\r\n    toggleMappedInlineStyle,\r\n} from '../../../utils/editorStateUtils';\r\n\r\nfunction ToggleInlineStyleColorSelectorControl({\r\n    configuration,\r\n    defaultConfiguration,\r\n    pluginData,\r\n    colorCssProp,\r\n    inlineStyle,\r\n    text,\r\n    children,\r\n}) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const [selectedColor, setSelectedColor] = React.useState(null);\r\n    const options = configuration.options || defaultConfiguration.options;\r\n\r\n    React.useEffect(() => {\r\n        const selectededInlineStyle = getCurrentMappedInlineStyle(\r\n            editor.editorState,\r\n            Object.keys(pluginData.customStyleMap),\r\n            null\r\n        );\r\n        setSelectedColor(\r\n            selectededInlineStyle && pluginData.customStyleMap[selectededInlineStyle]\r\n                ? {\r\n                      color: pluginData.customStyleMap[selectededInlineStyle][colorCssProp],\r\n                      value: selectededInlineStyle,\r\n                  }\r\n                : null\r\n        );\r\n    }, [editor.editorState, pluginData.customStyleMap, colorCssProp]);\r\n\r\n    const handleSelectColor = (selectedColorData) => {\r\n        setSelectedColor(selectedColorData);\r\n        const newEditorState = toggleMappedInlineStyle(\r\n            editor.editorState,\r\n            Object.keys(pluginData.customStyleMap),\r\n            selectedColorData ? selectedColorData.value : ''\r\n        );\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <ColorSelectorControl\r\n            text={text}\r\n            onSelectColor={handleSelectColor}\r\n            selectedColor={selectedColor}\r\n            colorsPerRow={configuration.colorsPerRow || defaultConfiguration.colorsPerRow}\r\n            disabled={editor.editorState.getSelection().isCollapsed()}\r\n            colors={options.map((option) => ({\r\n                text: option.text,\r\n                color: option.value,\r\n                value: `${inlineStyle}-${option.value}`,\r\n            }))}>\r\n            {children}\r\n        </ColorSelectorControl>\r\n    );\r\n}\r\n\r\nToggleInlineStyleColorSelectorControl.propTypes = {\r\n    configuration: PropTypes.object,\r\n    defaultConfiguration: PropTypes.object.isRequired,\r\n    pluginData: PropTypes.object.isRequired,\r\n    colorCssProp: PropTypes.string.isRequired,\r\n    inlineStyle: PropTypes.string.isRequired,\r\n    text: PropTypes.string,\r\n    children: PropTypes.any,\r\n};\r\n\r\nexport default ToggleInlineStyleColorSelectorControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport FormatColorTextIcon from '@mui/icons-material/FormatColorText';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\nimport ToggleInlineStyleColorSelectorControl from '../core/ToggleInlineStyleColorSelectorControl';\r\n\r\nfunction FontColorControl({ configuration, defaultConfiguration, pluginData }) {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleInlineStyleColorSelectorControl\r\n            text={editor.translate('controls.fontColor.title')}\r\n            configuration={configuration}\r\n            defaultConfiguration={defaultConfiguration}\r\n            inlineStyle={inlineStyles.FONT_COLOR}\r\n            pluginData={pluginData}\r\n            colorCssProp=\"color\">\r\n            <FormatColorTextIcon />\r\n        </ToggleInlineStyleColorSelectorControl>\r\n    );\r\n}\r\n\r\nFontColorControl.propTypes = {\r\n    configuration: PropTypes.object,\r\n    defaultConfiguration: PropTypes.object.isRequired,\r\n    pluginData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default FontColorControl;\r\n","import inlineStyles from '../../../types/inlineStyles';\r\n\r\nconst fontColorPlugin = (configuration, defaultConfiguration) => {\r\n    const fontColors = configuration.options || defaultConfiguration.options;\r\n    const customStyleMap = {};\r\n    for (const fontColor of fontColors) {\r\n        customStyleMap[`${inlineStyles.FONT_COLOR}-${fontColor.value}`] = {\r\n            color: fontColor.value,\r\n        };\r\n    }\r\n    return { customStyleMap };\r\n};\r\n\r\nexport default fontColorPlugin;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport BorderColorIcon from '@mui/icons-material/BorderColor';\r\nimport inlineStyles from '../../../types/inlineStyles';\r\nimport ToggleInlineStyleColorSelectorControl from '../core/ToggleInlineStyleColorSelectorControl';\r\n\r\nfunction FontBackgroundColorControl({ configuration, defaultConfiguration, pluginData }) {\r\n    const editor = useEditor();\r\n\r\n    return (\r\n        <ToggleInlineStyleColorSelectorControl\r\n            text={editor.translate('controls.fontBackgroundColor.title')}\r\n            configuration={configuration}\r\n            defaultConfiguration={defaultConfiguration}\r\n            inlineStyle={inlineStyles.FONT_BACKGROUND}\r\n            pluginData={pluginData}\r\n            colorCssProp=\"backgroundColor\">\r\n            <BorderColorIcon />\r\n        </ToggleInlineStyleColorSelectorControl>\r\n    );\r\n}\r\n\r\nFontBackgroundColorControl.propTypes = {\r\n    configuration: PropTypes.object,\r\n    defaultConfiguration: PropTypes.object.isRequired,\r\n    pluginData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default FontBackgroundColorControl;\r\n","import inlineStyles from '../../../types/inlineStyles';\r\n\r\nconst fontBackgroundColorPlugin = (configuration, defaultConfiguration) => {\r\n    const fontBgs = configuration.options || defaultConfiguration.options;\r\n    const customStyleMap = {};\r\n    for (const fontBg of fontBgs) {\r\n        customStyleMap[`${inlineStyles.FONT_BACKGROUND}-${fontBg.value}`] = {\r\n            backgroundColor: fontBg.value,\r\n        };\r\n    }\r\n    return { customStyleMap };\r\n};\r\n\r\nexport default fontBackgroundColorPlugin;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTheme } from '@mui/material';\r\n\r\nconst useStyles = (theme) => {\r\n    return {\r\n        imgWrapper: {\r\n            maxWidth: '100%',\r\n            maxHeight: 300,\r\n            overflow: 'auto',\r\n            marginTop: theme.spacing(2),\r\n            marginBottom: theme.spacing(2),\r\n        },\r\n    };\r\n};\r\n\r\nfunction ImageToUpload({ width, height, src }) {\r\n    const classes = useStyles(useTheme());\r\n\r\n    return (\r\n        <div className={classes.imgWrapper}>\r\n            <img alt=\"\" width={width} height={height} src={src} />\r\n        </div>\r\n    );\r\n}\r\n\r\nImageToUpload.propTypes = {\r\n    width: PropTypes.number.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    src: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageToUpload;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../../../hooks/useEditor';\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport LockOpenIcon from '@mui/icons-material/LockOpen';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\n\r\nfunction SizeInputs({\r\n    originalWidth,\r\n    originalHeight,\r\n    width,\r\n    height,\r\n    onChangeWidth,\r\n    onChangeHeight,\r\n}) {\r\n    const editor = useEditor();\r\n    const [maintainAspectRatio, setMaintainAspectRatio] = React.useState(true);\r\n    const aspectRatio = originalWidth / originalHeight;\r\n\r\n    const handleChangeWidth = (ev) => {\r\n        ev.stopPropagation();\r\n        const value = ev.currentTarget.value;\r\n        const w = value === '' || isNaN(value) ? 0 : parseInt(value);\r\n        onChangeWidth(w);\r\n        if (maintainAspectRatio) {\r\n            onChangeHeight(Math.round(w / aspectRatio));\r\n        }\r\n    };\r\n\r\n    const handleChangeHeight = (ev) => {\r\n        ev.stopPropagation();\r\n        const value = ev.currentTarget.value;\r\n        const h = value === '' || isNaN(value) ? 0 : parseInt(value);\r\n        onChangeHeight(h);\r\n        if (maintainAspectRatio) {\r\n            onChangeWidth(Math.round(h * aspectRatio));\r\n        }\r\n    };\r\n\r\n    const handleClickAspectRatio = () => {\r\n        const newMaintainAspectRatio = !maintainAspectRatio;\r\n        setMaintainAspectRatio(newMaintainAspectRatio);\r\n        if (newMaintainAspectRatio) {\r\n            onChangeHeight(Math.round(width / aspectRatio));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\" spacing={2}>\r\n            <Grid item>\r\n                <TextField\r\n                    type=\"number\"\r\n                    label={editor.translate('controls.image.labels.width')}\r\n                    size=\"small\"\r\n                    value={width}\r\n                    onChange={handleChangeWidth}\r\n                    onClick={(ev) => ev.stopPropagation()}\r\n                    style={{ maxWidth: 90 }}\r\n                />\r\n            </Grid>\r\n            <Grid item>\r\n                <IconButton onClick={handleClickAspectRatio} size=\"small\">\r\n                    {maintainAspectRatio ? <LockIcon /> : <LockOpenIcon />}\r\n                </IconButton>\r\n            </Grid>\r\n            <Grid item>\r\n                <TextField\r\n                    type=\"number\"\r\n                    label={editor.translate('controls.image.labels.height')}\r\n                    size=\"small\"\r\n                    value={height}\r\n                    onChange={handleChangeHeight}\r\n                    onClick={(ev) => ev.stopPropagation()}\r\n                    style={{ maxWidth: 90 }}\r\n                />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nSizeInputs.propTypes = {\r\n    originalWidth: PropTypes.number.isRequired,\r\n    originalHeight: PropTypes.number.isRequired,\r\n    width: PropTypes.number.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    onChangeWidth: PropTypes.func.isRequired,\r\n    onChangeHeight: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SizeInputs;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../../hooks/useEditor';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport TextField from '@mui/material/TextField';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport Grid from '@mui/material/Grid';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Typography from '@mui/material/Typography';\r\nimport ImageToUpload from './image/ImageToUpload';\r\nimport SizeInputs from './inputs/SizeInputs';\r\n\r\nfunction ByUrlDialog({ open, onClose, onSubmit }) {\r\n    const editor = useEditor();\r\n    const [imageURL, setImageURL] = React.useState('');\r\n    const [imageWidth, setImageWidth] = React.useState(0);\r\n    const [imageOriginalWidth, setImageOriginalWidth] = React.useState(0);\r\n    const [imageHeight, setImageHeight] = React.useState(0);\r\n    const [imageOriginalHeight, setImageOriginalHeight] = React.useState(0);\r\n    const [isUploading, setIsUploading] = React.useState(false);\r\n    const [isValidImage, setIsValidImage] = React.useState(false);\r\n    const [hasError, setHasError] = React.useState(false);\r\n    const [changeTimeout, setChangeTimeout] = React.useState(null);\r\n\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        onSubmit({ imageURL, imageWidth, imageHeight });\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setIsValidImage(false);\r\n        setImageURL('');\r\n    };\r\n\r\n    const handleURLChange = (url) => {\r\n        setImageURL(url);\r\n        if (changeTimeout) {\r\n            clearTimeout(changeTimeout);\r\n            setChangeTimeout(null);\r\n        }\r\n\r\n        if (url === '') {\r\n            setHasError(false);\r\n            setIsValidImage(false);\r\n            return;\r\n        }\r\n\r\n        const to = setTimeout(() => {\r\n            setIsUploading(true);\r\n            // eslint-disable-next-line no-undef\r\n            const image = new Image();\r\n            image.onload = function () {\r\n                setImageWidth(this.width);\r\n                setImageOriginalWidth(this.width);\r\n                setImageHeight(this.height);\r\n                setImageOriginalHeight(this.height);\r\n                setIsUploading(false);\r\n                setIsValidImage(true);\r\n                setHasError(false);\r\n            };\r\n            image.onerror = function () {\r\n                setIsUploading(false);\r\n                setIsValidImage(false);\r\n                setHasError(true);\r\n            };\r\n            image.src = url;\r\n            setChangeTimeout(null);\r\n        }, 1000);\r\n        setChangeTimeout(to);\r\n    };\r\n\r\n    let content = null;\r\n\r\n    if (isUploading) content = <CircularProgress />;\r\n    else if (isValidImage && imageURL)\r\n        content = <ImageToUpload src={imageURL} height={imageHeight} width={imageWidth} />;\r\n    else if (hasError && !isValidImage && imageURL)\r\n        content = (\r\n            <Typography variant=\"subtitle1\" color=\"error\" gutterBottom>\r\n                {editor.translate('controls.image.errorMessages.notValidImage')}\r\n            </Typography>\r\n        );\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} onEnter={resetForm}>\r\n            <form onSubmit={handleSubmit}>\r\n                <DialogContent>\r\n                    {isValidImage && imageURL !== '' && (\r\n                        <SizeInputs\r\n                            width={imageWidth}\r\n                            onChangeHeight={setImageHeight}\r\n                            height={imageHeight}\r\n                            originalWidth={imageOriginalWidth}\r\n                            originalHeight={imageOriginalHeight}\r\n                            onChangeWidth={setImageWidth}\r\n                        />\r\n                    )}\r\n                    <Grid container alignItems=\"center\" justify=\"center\">\r\n                        {content}\r\n                    </Grid>\r\n                    <TextField\r\n                        autoFocus\r\n                        label={editor.translate('controls.image.labels.url')}\r\n                        value={imageURL}\r\n                        onChange={(ev) => handleURLChange(ev.currentTarget.value)}\r\n                        fullWidth\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={onClose} color=\"primary\">\r\n                        {editor.translate('controls.image.actions.cancel')}\r\n                    </Button>\r\n                    <Button type=\"submit\" color=\"primary\" disabled={!isValidImage}>\r\n                        {editor.translate('controls.image.actions.add')}\r\n                    </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nByUrlDialog.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ByUrlDialog;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../../hooks/useEditor';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport SizeInputs from './inputs/SizeInputs';\r\nimport ImageToUpload from './image/ImageToUpload';\r\nimport { useTheme } from '@mui/material';\r\n\r\nconst useStyles = (theme, highlightDropArea) => {\r\n    return {\r\n        dropArea: {\r\n            width: 500,\r\n            height: 300,\r\n            boxSizing: 'border-box',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            padding: theme.spacing(2),\r\n            marginTop: theme.spacing(1),\r\n            marginBottom: theme.spacing(2),\r\n            borderRadius: theme.shape.borderRadius || 4,\r\n            backgroundColor: highlightDropArea\r\n                ? theme.palette.grey[400] || '#bdbdbd'\r\n                : theme.palette.grey[200] || '#eeeeee',\r\n            border: highlightDropArea\r\n                ? `solid 3px ${theme.palette.grey[600] || '#757575'}`\r\n                : `dashed 3px ${theme.palette.grey[400] || '#bdbdbd'}`,\r\n            color: theme.palette.text.hint || 'rgba(0, 0, 0, 0.38)',\r\n            cursor: 'pointer',\r\n        },\r\n    };\r\n};\r\n\r\nfunction UploadDialog({ open, onClose, onSubmit, uploadCallback }) {\r\n    const editor = useEditor();\r\n    const [imageURL, setImageURL] = React.useState('');\r\n    const [imageWidth, setImageWidth] = React.useState(0);\r\n    const [imageOriginalWidth, setImageOriginalWidth] = React.useState(0);\r\n    const [imageHeight, setImageHeight] = React.useState(0);\r\n    const [imageOriginalHeight, setImageOriginalHeight] = React.useState(0);\r\n    const [isUploading, setIsUploading] = React.useState(false);\r\n    const [isValidImage, setIsValidImage] = React.useState(false);\r\n    const [hasError, setHasError] = React.useState(false);\r\n    const [errorMessage, setErrorMessage] = React.useState(null);\r\n    const [highlightDropArea, setHighlightDropArea] = React.useState(false);\r\n    const inputFileRef = React.createRef();\r\n    const classes = useStyles(useTheme(), highlightDropArea);\r\n\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        onSubmit({ imageURL, imageWidth, imageHeight });\r\n    };\r\n\r\n    const handleClickDropArea = (ev) => {\r\n        ev.preventDefault();\r\n        inputFileRef.current.click();\r\n    };\r\n\r\n    const handleDragEnter = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        setHighlightDropArea(true);\r\n    };\r\n\r\n    const handleDragLeave = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        setHighlightDropArea(false);\r\n    };\r\n\r\n    const handleDragOver = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        setHighlightDropArea(true);\r\n    };\r\n\r\n    const handleDrop = async (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const files = ev.dataTransfer.files;\r\n        if (files.length > 0) await onSelectFile(files[0]);\r\n    };\r\n\r\n    const handleInputFileChange = async () => {\r\n        const files = inputFileRef.current.files;\r\n        if (files.length > 0) await onSelectFile(files[0]);\r\n    };\r\n\r\n    const onSelectFile = async (file) => {\r\n        setHighlightDropArea(false);\r\n        setIsUploading(true);\r\n        try {\r\n            const selectedImageUrl = await uploadCallback(file);\r\n            setImageURL(selectedImageUrl);\r\n            const image = new Image();\r\n            image.onload = function () {\r\n                setImageWidth(this.width);\r\n                setImageOriginalWidth(this.width);\r\n                setImageHeight(this.height);\r\n                setImageOriginalHeight(this.height);\r\n                setIsUploading(false);\r\n                setIsValidImage(true);\r\n                setHasError(false);\r\n            };\r\n            image.onerror = function () {\r\n                setIsUploading(false);\r\n                setIsValidImage(false);\r\n                setHasError(true);\r\n                setErrorMessage(null);\r\n            };\r\n            image.src = selectedImageUrl;\r\n        } catch (e) {\r\n            setIsUploading(false);\r\n            setIsValidImage(false);\r\n            setHasError(true);\r\n            setErrorMessage(e);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setImageURL('');\r\n        setIsValidImage(false);\r\n        setIsUploading(false);\r\n        setHighlightDropArea(false);\r\n    };\r\n\r\n    let dropAreaContent = (\r\n        <Typography variant=\"subtitle1\">\r\n            {editor.translate('controls.image.labels.dropImageHere')}\r\n        </Typography>\r\n    );\r\n\r\n    if (isUploading) {\r\n        dropAreaContent = <CircularProgress />;\r\n    } else if (isValidImage && imageURL) {\r\n        dropAreaContent = <ImageToUpload src={imageURL} height={imageHeight} width={imageWidth} />;\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} onEnter={resetForm}>\r\n            <form onSubmit={handleSubmit}>\r\n                <DialogContent>\r\n                    <input\r\n                        ref={inputFileRef}\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleInputFileChange}\r\n                        style={{ display: 'none' }}\r\n                    />\r\n                    {isValidImage && imageURL !== '' && (\r\n                        <SizeInputs\r\n                            originalWidth={imageOriginalWidth}\r\n                            originalHeight={imageOriginalHeight}\r\n                            width={imageWidth}\r\n                            height={imageHeight}\r\n                            onChangeWidth={setImageWidth}\r\n                            onChangeHeight={setImageHeight}\r\n                        />\r\n                    )}\r\n\r\n                    {hasError && !isValidImage && (\r\n                        <Typography variant=\"subtitle1\" color=\"error\" align=\"center\" gutterBottom>\r\n                            {errorMessage !== null\r\n                                ? errorMessage\r\n                                : editor.translate('controls.image.errorMessages.notValidImage')}\r\n                        </Typography>\r\n                    )}\r\n\r\n                    <div\r\n                        className={classes.dropArea}\r\n                        onClick={handleClickDropArea}\r\n                        onDragEnter={handleDragEnter}\r\n                        onDragLeave={handleDragLeave}\r\n                        onDragOver={handleDragOver}\r\n                        onDrop={handleDrop}>\r\n                        {dropAreaContent}\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={onClose} color=\"primary\">\r\n                        {editor.translate('controls.image.actions.cancel')}\r\n                    </Button>\r\n                    <Button type=\"submit\" color=\"primary\" disabled={!isValidImage}>\r\n                        {editor.translate('controls.image.actions.add')}\r\n                    </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nUploadDialog.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onSubmit: PropTypes.func.isRequired,\r\n    uploadCallback: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default UploadDialog;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../../hooks/useEditor';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport SizeInputs from './inputs/SizeInputs';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ImageToUpload from './image/ImageToUpload';\r\n\r\nfunction ResizeImageDialog({ open, onClose, src, originalWidth, originalHeight, onSave }) {\r\n    const [width, setWidth] = React.useState(0);\r\n    const [height, setHeight] = React.useState(0);\r\n    const editor = useEditor();\r\n\r\n    React.useEffect(() => {\r\n        setWidth(originalWidth);\r\n        setHeight(originalHeight);\r\n    }, [originalWidth, originalHeight]);\r\n\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        onSave(width, height);\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <form onSubmit={handleSubmit}>\r\n                <DialogContent>\r\n                    <SizeInputs\r\n                        width={width}\r\n                        height={height}\r\n                        onChangeWidth={setWidth}\r\n                        onChangeHeight={setHeight}\r\n                        originalWidth={originalWidth}\r\n                        originalHeight={originalHeight}\r\n                    />\r\n                    <Grid container alignItems=\"center\" justify=\"center\">\r\n                        <ImageToUpload src={src} width={width} height={height} />\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={() => onClose()}>\r\n                        {editor.translate('controls.image.actions.cancel')}\r\n                    </Button>\r\n                    <Button type=\"submit\">\r\n                        {editor.translate('controls.image.actions.resize')}\r\n                    </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nResizeImageDialog.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    src: PropTypes.string.isRequired,\r\n    originalWidth: PropTypes.number.isRequired,\r\n    originalHeight: PropTypes.number.isRequired,\r\n    onSave: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ResizeImageDialog;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport ButtonControl from '../core/ButtonControl';\r\nimport ImageIcon from '@mui/icons-material/Image';\r\nimport Popover from '@mui/material/Popover';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport PublishIcon from '@mui/icons-material/Publish';\r\nimport LinkIcon from '@mui/icons-material/Link';\r\nimport entities from '../../../types/entities';\r\nimport { EditorState, AtomicBlockUtils } from 'draft-js';\r\nimport ByUrlDialog from './dialogs/ByURLDialog';\r\nimport UploadDialog from './dialogs/UploadDialog';\r\nimport ResizeImageDialog from './dialogs/ResizeImageDialog';\r\n\r\nfunction ImageControl({ configuration, defaultConfiguration }) {\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const menuId = Math.random().toString(36).substring(8);\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [isUploadDialogOpened, setIsUploadDialogOpened] = React.useState(false);\r\n    const [isUrlDialogOpened, setIsUrlDialogOpened] = React.useState(false);\r\n    const uploadCallback = configuration.uploadCallback || defaultConfiguration.uploadCallback;\r\n\r\n    const imageEntityToResize = editor.resizeImageEntityKey\r\n        ? editor.editorState.getCurrentContent().getEntity(editor.resizeImageEntityKey)\r\n        : null;\r\n\r\n    const handleSubmitImage = ({ imageURL, imageWidth, imageHeight }) => {\r\n        if (imageURL === '') return;\r\n        setIsUrlDialogOpened(false);\r\n        setIsUploadDialogOpened(false);\r\n\r\n        const contentState = editor.editorState.getCurrentContent();\r\n        const contentStateWithEntity = contentState.createEntity(entities.IMAGE, 'IMMUTABLE', {\r\n            src: imageURL,\r\n            width: imageWidth,\r\n            height: imageHeight,\r\n        });\r\n        const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\r\n        const newEditorState = EditorState.push(\r\n            editor.editorState,\r\n            contentStateWithEntity,\r\n            'apply-entity'\r\n        );\r\n        editor.onChange(AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, ' '));\r\n        editorFocus();\r\n    };\r\n\r\n    const handleResizeImage = (width, height) => {\r\n        editor.hideResizeImageDialog();\r\n        const contentState = editor.editorState.getCurrentContent();\r\n        const newEditorState = EditorState.push(\r\n            editor.editorState,\r\n            contentState.mergeEntityData(editor.resizeImageEntityKey, { width, height }),\r\n            'apply-entity'\r\n        );\r\n        editor.onChange(newEditorState);\r\n        editorFocus();\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ButtonControl\r\n                onClick={(ev) => setAnchorEl(ev.currentTarget)}\r\n                text={editor.translate('controls.image.title')}\r\n                aria-controls={menuId}\r\n                aria-haspopup=\"true\">\r\n                <ImageIcon />\r\n            </ButtonControl>\r\n\r\n            <Popover\r\n                id={menuId}\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={() => setAnchorEl(null)}>\r\n                <List\r\n                    component=\"nav\"\r\n                    aria-label={editor.translate('controls.image.labels.insertOptions')}>\r\n                    <ListItem\r\n                        button\r\n                        onClick={() => {\r\n                            setIsUploadDialogOpened(true);\r\n                            setAnchorEl(null);\r\n                        }}>\r\n                        <ListItemIcon>\r\n                            <PublishIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={editor.translate('controls.image.actions.upload')} />\r\n                    </ListItem>\r\n                    <ListItem\r\n                        button\r\n                        onClick={() => {\r\n                            setIsUrlDialogOpened(true);\r\n                            setAnchorEl(null);\r\n                        }}>\r\n                        <ListItemIcon>\r\n                            <LinkIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={editor.translate('controls.image.actions.url')} />\r\n                    </ListItem>\r\n                </List>\r\n            </Popover>\r\n\r\n            <ByUrlDialog\r\n                onSubmit={handleSubmitImage}\r\n                onClose={() => setIsUrlDialogOpened(false)}\r\n                open={isUrlDialogOpened}\r\n            />\r\n\r\n            <UploadDialog\r\n                onSubmit={handleSubmitImage}\r\n                onClose={() => setIsUploadDialogOpened(false)}\r\n                open={isUploadDialogOpened}\r\n                uploadCallback={uploadCallback}\r\n            />\r\n\r\n            <ResizeImageDialog\r\n                open={editor.isResizeImageDialogVisible}\r\n                onClose={() => editor.hideResizeImageDialog()}\r\n                src={imageEntityToResize ? imageEntityToResize.getData().src : ''}\r\n                originalWidth={imageEntityToResize ? imageEntityToResize.getData().width : 0}\r\n                originalHeight={imageEntityToResize ? imageEntityToResize.getData().height : 0}\r\n                onSave={handleResizeImage}\r\n            />\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nImageControl.propTypes = {\r\n    configuration: PropTypes.object.isRequired,\r\n    defaultConfiguration: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport entities from '../../../types/entities';\r\nimport blockStyles from '../../../types/blockStyles';\r\nimport { EditorState, Modifier, SelectionState } from 'draft-js';\r\nimport useEditor from '../../../hooks/useEditor';\r\nimport useEditorFocus from '../../../hooks/useEditorFocus';\r\nimport Popover from '@mui/material/Popover';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport Button from '@mui/material/Button';\r\nimport ImageIcon from '@mui/icons-material/Image';\r\nimport ArrowLeftIcon from '@mui/icons-material/ArrowLeft';\r\nimport ArrowRightIcon from '@mui/icons-material/ArrowRight';\r\nimport PhotoSizeSelectLargeIcon from '@mui/icons-material/PhotoSizeSelectLarge';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useTheme } from '@mui/material';\r\n\r\nconst EditorMedia = ({ contentState, block }) => {\r\n    const entity = contentState.getEntity(block.getEntityAt(0));\r\n    const type = entity.getType();\r\n\r\n    if (type === entities.IMAGE) {\r\n        const { src, width = 'auto', height = 'auto' } = entity.getData();\r\n        return (\r\n            <EditorImage\r\n                src={src}\r\n                width={width}\r\n                height={height}\r\n                block={block}\r\n                contentState={contentState}\r\n            />\r\n        );\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nEditorMedia.propTypes = {\r\n    contentState: PropTypes.object.isRequired,\r\n    block: PropTypes.object.isRequired,\r\n};\r\n\r\nconst useStyles = (theme) => {\r\n    return {\r\n        imgInfo: {\r\n            padding: theme.spacing(0.6),\r\n        },\r\n    };\r\n};\r\n\r\nconst EditorImage = ({ src, width, height, contentState, block }) => {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [infoAnchorEl, setInfoAnchorEl] = React.useState(null);\r\n    const editor = useEditor();\r\n    const editorFocus = useEditorFocus();\r\n    const classes = useStyles(useTheme());\r\n\r\n    const showOptions = (ev) => {\r\n        setAnchorEl(ev.currentTarget);\r\n        setInfoAnchorEl(ev.currentTarget);\r\n    };\r\n\r\n    const hideOptions = () => {\r\n        setAnchorEl(null);\r\n        setInfoAnchorEl(null);\r\n    };\r\n\r\n    const imageAlign = (ev, align) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const imageSelection = SelectionState.createEmpty(block.getKey()).merge({\r\n            anchorKey: block.getKey(),\r\n            anchorOffset: 0,\r\n            focusKey: block.getKey(),\r\n            focusOffset: block.getLength(),\r\n        });\r\n\r\n        const newContentState = Modifier.setBlockData(contentState, imageSelection, {\r\n            textAlign: align,\r\n        });\r\n        editor.onChange(EditorState.push(editor.editorState, newContentState, 'change-block-data'));\r\n        editorFocus();\r\n    };\r\n\r\n    const removeImage = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const imageSelection = SelectionState.createEmpty(block.getKey()).merge({\r\n            anchorKey: block.getKey(),\r\n            anchorOffset: 0,\r\n            focusKey: block.getKey(),\r\n            focusOffset: block.getLength(),\r\n        });\r\n\r\n        let newContentState = Modifier.removeRange(contentState, imageSelection, 'forward');\r\n\r\n        const blockMap = newContentState.getBlockMap().delete(block.getKey());\r\n\r\n        const firstBlock = newContentState.getFirstBlock();\r\n\r\n        const selectionToStart = SelectionState.createEmpty(firstBlock.getKey()).merge({\r\n            anchorKey: firstBlock.getKey(),\r\n            anchorOffset: 0,\r\n            focusKey: firstBlock.getKey(),\r\n            focusOffset: 0,\r\n        });\r\n\r\n        newContentState = newContentState.merge({ blockMap, selectionAfter: selectionToStart });\r\n\r\n        editor.onChange(EditorState.push(editor.editorState, newContentState, 'remove-range'));\r\n        editorFocus();\r\n    };\r\n\r\n    if (!src) return null;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <img alt={src} src={src} width={width} height={height} onClick={showOptions} />\r\n            <Popover\r\n                open={Boolean(infoAnchorEl)}\r\n                onClose={hideOptions}\r\n                anchorEl={infoAnchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}>\r\n                <Typography color=\"textSecondary\" variant=\"body1\" className={classes.imgInfo}>\r\n                    {width}&nbsp;x&nbsp;{height}\r\n                </Typography>\r\n            </Popover>\r\n            <Popover\r\n                open={Boolean(anchorEl)}\r\n                onClose={hideOptions}\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}>\r\n                <ButtonGroup\r\n                    size=\"small\"\r\n                    aria-label={editor.translate('controls.image.labels.editOptions')}>\r\n                    <Button\r\n                        onClick={(ev) => imageAlign(ev, 'left')}\r\n                        title={editor.translate('controls.image.actions.alignLeft')}>\r\n                        <ArrowLeftIcon />\r\n                        <ImageIcon />\r\n                    </Button>\r\n                    <Button\r\n                        onClick={(ev) => imageAlign(ev, 'center')}\r\n                        title={editor.translate('controls.image.actions.alignCenter')}>\r\n                        <ArrowLeftIcon />\r\n                        <ImageIcon />\r\n                        <ArrowRightIcon />\r\n                    </Button>\r\n                    <Button\r\n                        onClick={(ev) => imageAlign(ev, 'right')}\r\n                        title={editor.translate('controls.image.actions.alignRight')}>\r\n                        <ImageIcon />\r\n                        <ArrowRightIcon />\r\n                    </Button>\r\n                    <Button\r\n                        onClick={() => {\r\n                            hideOptions();\r\n                            editor.showResizeImageDialog(block.getEntityAt(0));\r\n                        }}\r\n                        title={editor.translate('controls.image.actions.resize')}>\r\n                        <PhotoSizeSelectLargeIcon />\r\n                    </Button>\r\n                    <Button\r\n                        onClick={removeImage}\r\n                        title={editor.translate('controls.image.actions.remove')}>\r\n                        <DeleteIcon />\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </Popover>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nEditorImage.propTypes = {\r\n    src: PropTypes.string,\r\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    contentState: PropTypes.object.isRequired,\r\n    block: PropTypes.object.isRequired,\r\n};\r\n\r\nconst imagePlugin = () => ({\r\n    blockRendererFn: (block) => {\r\n        if (block.getType() === blockStyles.ATOMIC) {\r\n            return {\r\n                component: EditorMedia,\r\n                editable: false,\r\n            };\r\n        }\r\n    },\r\n});\r\n\r\nexport default imagePlugin;\r\n","export const fileToBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n        // eslint-disable-next-line no-undef\r\n        const reader = new FileReader();\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = () => reject(reader.error);\r\n        reader.readAsDataURL(file);\r\n    });\r\n};\r\n","import DividerControl from '../EditorToolbar/controls/DividerControl';\r\nimport UndoControl from '../EditorToolbar/controls/UndoControl';\r\nimport RedoControl from '../EditorToolbar/controls/RedoControl';\r\nimport BoldControl from '../EditorToolbar/controls/BoldControl';\r\nimport ItalicControl from '../EditorToolbar/controls/ItalicControl';\r\nimport UnderlineControl from '../EditorToolbar/controls/UnderlineControl';\r\nimport StrikethroughControl from '../EditorToolbar/controls/StrikethroughControl';\r\nimport LinkAddControl from '../EditorToolbar/controls/LinkAddControl';\r\nimport linkAddPlugin from '../EditorToolbar/controls/LinkAddControl/plugin';\r\nimport LinkRemoveControl from '../EditorToolbar/controls/LinkRemoveControl';\r\nimport BlockTypeControl from '../EditorToolbar/controls/BlockTypeControl';\r\nimport UnorderedListControl from '../EditorToolbar/controls/UnorderedListControl';\r\nimport OrderedListControl from '../EditorToolbar/controls/OrderedListControl';\r\nimport FontFamilyControl from '../EditorToolbar/controls/FontFamilyControl';\r\nimport fontFamilyPlugin from '../EditorToolbar/controls/FontFamilyControl/plugin';\r\nimport TextAlignControl from '../EditorToolbar/controls/TextAlignControl';\r\nimport textAlignPlugin from '../EditorToolbar/controls/TextAlignControl/plugin';\r\nimport FontSizeControl from '../EditorToolbar/controls/FontSizeControl';\r\nimport fontSizePlugin from '../EditorToolbar/controls/FontSizeControl/plugin';\r\nimport FontColorControl from '../EditorToolbar/controls/FontColorControl';\r\nimport fontColorPlugin from '../EditorToolbar/controls/FontColorControl/plugin';\r\nimport FontBackgroundColorControl from '../EditorToolbar/controls/FontBackgroundColorControl';\r\nimport fontBackgroundColorPlugin from '../EditorToolbar/controls/FontBackgroundColorControl/plugin';\r\nimport ImageControl from '../EditorToolbar/controls/ImageControl';\r\nimport imagePlugin from '../EditorToolbar/controls/ImageControl/plugin';\r\nimport { fileToBase64 } from '../utils/fileUtils';\r\nimport { LANG_PREFIX } from './lang';\r\n\r\nexport const toolbarControlTypes = {\r\n    divider: {\r\n        name: 'divider',\r\n        component: DividerControl,\r\n    },\r\n    undo: {\r\n        name: 'undo',\r\n        component: UndoControl,\r\n    },\r\n    redo: {\r\n        name: 'undo',\r\n        component: RedoControl,\r\n    },\r\n    bold: {\r\n        name: 'bold',\r\n        component: BoldControl,\r\n    },\r\n    italic: {\r\n        name: 'italic',\r\n        component: ItalicControl,\r\n    },\r\n    underline: {\r\n        name: 'underline',\r\n        component: UnderlineControl,\r\n    },\r\n    strikethrough: {\r\n        name: 'strikethrough',\r\n        component: StrikethroughControl,\r\n    },\r\n    fontColor: {\r\n        name: 'fontColor',\r\n        component: FontColorControl,\r\n        plugin: fontColorPlugin,\r\n    },\r\n    fontBackgroundColor: {\r\n        name: 'fontBackgroundColor',\r\n        component: FontBackgroundColorControl,\r\n        plugin: fontBackgroundColorPlugin,\r\n    },\r\n    linkAdd: {\r\n        name: 'linkAdd',\r\n        component: LinkAddControl,\r\n        plugin: linkAddPlugin,\r\n    },\r\n    linkRemove: {\r\n        name: 'linkRemove',\r\n        component: LinkRemoveControl,\r\n    },\r\n    image: {\r\n        name: 'image',\r\n        component: ImageControl,\r\n        plugin: imagePlugin,\r\n    },\r\n    blockType: {\r\n        name: 'blockType',\r\n        component: BlockTypeControl,\r\n    },\r\n    fontSize: {\r\n        name: 'fontSize',\r\n        component: FontSizeControl,\r\n        plugin: fontSizePlugin,\r\n    },\r\n    fontFamily: {\r\n        name: 'fontFamily',\r\n        component: FontFamilyControl,\r\n        plugin: fontFamilyPlugin,\r\n    },\r\n    textAlign: {\r\n        name: 'textAlign',\r\n        component: TextAlignControl,\r\n        plugin: textAlignPlugin,\r\n    },\r\n    unorderedList: {\r\n        name: 'unorderedList',\r\n        component: UnorderedListControl,\r\n    },\r\n    orderedList: {\r\n        name: 'orderedList',\r\n        component: OrderedListControl,\r\n    },\r\n};\r\n\r\nexport const defaultToolbarControls = [\r\n    toolbarControlTypes.undo,\r\n    toolbarControlTypes.redo,\r\n    toolbarControlTypes.divider,\r\n    toolbarControlTypes.bold,\r\n    toolbarControlTypes.italic,\r\n    toolbarControlTypes.underline,\r\n    toolbarControlTypes.strikethrough,\r\n    toolbarControlTypes.fontColor,\r\n    toolbarControlTypes.fontBackgroundColor,\r\n    toolbarControlTypes.divider,\r\n    toolbarControlTypes.linkAdd,\r\n    toolbarControlTypes.linkRemove,\r\n    toolbarControlTypes.image,\r\n    toolbarControlTypes.divider,\r\n    toolbarControlTypes.blockType,\r\n    toolbarControlTypes.fontSize,\r\n    toolbarControlTypes.fontFamily,\r\n    toolbarControlTypes.textAlign,\r\n    toolbarControlTypes.divider,\r\n    toolbarControlTypes.unorderedList,\r\n    toolbarControlTypes.orderedList,\r\n];\r\n\r\nconst colors = [\r\n    { text: 'black', value: 'rgb(0, 0, 0)' },\r\n    { text: 'dark grey 4', value: 'rgb(67, 67, 67)' },\r\n    { text: 'dark grey 3', value: 'rgb(102, 102, 102)' },\r\n    { text: 'dark grey 2', value: 'rgb(153, 153, 153)' },\r\n    { text: 'dark grey 1', value: 'rgb(183, 183, 183)' },\r\n    { text: 'grey', value: 'rgb(204, 204, 204)' },\r\n    { text: 'light grey 1', value: 'rgb(217, 217, 217)' },\r\n    { text: 'light grey 2', value: 'rgb(239, 239, 239)' },\r\n    { text: 'light grey 3', value: 'rgb(243, 243, 243)' },\r\n    { text: 'white', value: 'rgb(255, 255, 255)' },\r\n    { text: 'Red berry', value: 'rgb(152, 0, 0)' },\r\n    { text: 'red', value: 'rgb(255, 0, 0)' },\r\n    { text: 'orange', value: 'rgb(255, 153, 0)' },\r\n    { text: 'yellow', value: 'rgb(255, 255, 0)' },\r\n    { text: 'green', value: 'rgb(0, 255, 0)' },\r\n    { text: 'cyan', value: 'rgb(0, 255, 255)' },\r\n    { text: 'cornflower blue', value: 'rgb(74, 134, 232)' },\r\n    { text: 'blue', value: 'rgb(0, 0, 255)' },\r\n    { text: 'purple', value: 'rgb(153, 0, 255)' },\r\n    { text: 'magenta', value: 'rgb(255, 0, 255)' },\r\n    { text: 'light red berry 3', value: 'rgb(230, 184, 175)' },\r\n    { text: 'light red 3', value: 'rgb(244, 204, 204)' },\r\n    { text: 'light orange 3', value: 'rgb(252, 229, 205)' },\r\n    { text: 'light yellow 3', value: 'rgb(255, 242, 204)' },\r\n    { text: 'light green 3', value: 'rgb(217, 234, 211)' },\r\n    { text: 'light cyan 3', value: 'rgb(208, 224, 227)' },\r\n    { text: 'light cornflower blue 3', value: 'rgb(201, 218, 248)' },\r\n    { text: 'light blue 3', value: 'rgb(207, 226, 243)' },\r\n    { text: 'light purple 3', value: 'rgb(217, 210, 233)' },\r\n    { text: 'light magenta 3', value: 'rgb(234, 209, 220)' },\r\n    { text: 'light red berry 2', value: 'rgb(221, 126, 107)' },\r\n    { text: 'light red 2', value: 'rgb(234, 153, 153)' },\r\n    { text: 'light orange 2', value: 'rgb(249, 203, 156)' },\r\n    { text: 'light yellow 2', value: 'rgb(255, 229, 153)' },\r\n    { text: 'light green 2', value: 'rgb(182, 215, 168)' },\r\n    { text: 'light cyan 2', value: 'rgb(162, 196, 201)' },\r\n    { text: 'light cornflower blue 2', value: 'rgb(164, 194, 244)' },\r\n    { text: 'light blue 2', value: 'rgb(159, 197, 232)' },\r\n    { text: 'light purple 2', value: 'rgb(180, 167, 214)' },\r\n    { text: 'light magenta 2', value: 'rgb(213, 166, 189)' },\r\n    { text: 'light red berry 1', value: 'rgb(204, 65, 37)' },\r\n    { text: 'light red 1', value: 'rgb(224, 102, 102)' },\r\n    { text: 'light orange 1', value: 'rgb(246, 178, 107)' },\r\n    { text: 'light yellow 1', value: 'rgb(255, 217, 102)' },\r\n    { text: 'light green 1', value: 'rgb(147, 196, 125)' },\r\n    { text: 'light cyan 1', value: 'rgb(118, 165, 175)' },\r\n    { text: 'light cornflower blue 1', value: 'rgb(109, 158, 235)' },\r\n    { text: 'light blue 1', value: 'rgb(111, 168, 220)' },\r\n    { text: 'light purple 1', value: 'rgb(142, 124, 195)' },\r\n    { text: 'light magenta 1', value: 'rgb(194, 123, 160)' },\r\n    { text: 'dark red berry 1', value: 'rgb(166, 28, 0)' },\r\n    { text: 'dark red 1', value: 'rgb(204, 0, 0)' },\r\n    { text: 'dark orange 1', value: 'rgb(230, 145, 56)' },\r\n    { text: 'dark yellow 1', value: 'rgb(241, 194, 50)' },\r\n    { text: 'dark green 1', value: 'rgb(106, 168, 79)' },\r\n    { text: 'dark cyan 1', value: 'rgb(69, 129, 142)' },\r\n    { text: 'dark cornflower blue 1', value: 'rgb(60, 120, 216)' },\r\n    { text: 'dark blue 1', value: 'rgb(61, 133, 198)' },\r\n    { text: 'dark purple 1', value: 'rgb(103, 78, 167)' },\r\n    { text: 'dark magenta 1', value: 'rgb(166, 77, 121)' },\r\n    { text: 'dark red berry 2', value: 'rgb(133, 32, 12)' },\r\n    { text: 'dark red 2', value: 'rgb(153, 0, 0)' },\r\n    { text: 'dark orange 2', value: 'rgb(180, 95, 6)' },\r\n    { text: 'dark yellow 2', value: 'rgb(191, 144, 0)' },\r\n    { text: 'dark green 2', value: 'rgb(56, 118, 29)' },\r\n    { text: 'dark cyan 2', value: 'rgb(19, 79, 92)' },\r\n    { text: 'dark cornflower blue 2', value: 'rgb(17, 85, 204)' },\r\n    { text: 'dark blue 2', value: 'rgb(11, 83, 148)' },\r\n    { text: 'dark purple 2', value: 'rgb(53, 28, 117)' },\r\n    { text: 'dark magenta 2', value: 'rgb(116, 27, 71)' },\r\n    { text: 'dark red berry 3', value: 'rgb(91, 15, 0)' },\r\n    { text: 'dark red 3', value: 'rgb(102, 0, 0)' },\r\n    { text: 'dark orange 3', value: 'rgb(120, 63, 4)' },\r\n    { text: 'dark yellow 3', value: 'rgb(127, 96, 0)' },\r\n    { text: 'dark green 3', value: 'rgb(39, 78, 19)' },\r\n    { text: 'dark cyan 3', value: 'rgb(12, 52, 61)' },\r\n    { text: 'dark cornflower blue 3', value: 'rgb(28, 69, 135)' },\r\n    { text: 'dark blue 3', value: 'rgb(7, 55, 99)' },\r\n    { text: 'dark purple 3', value: 'rgb(32, 18, 77)' },\r\n    { text: 'dark magenta 3', value: 'rgb(76, 17, 48)' },\r\n];\r\n\r\nexport const defaultToolbarControlsConfiguration = {\r\n    blockType: {\r\n        options: [\r\n            {\r\n                value: 'default',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.normal',\r\n            },\r\n            {\r\n                value: 'header-one',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.header1',\r\n            },\r\n            {\r\n                value: 'header-two',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.header2',\r\n            },\r\n            {\r\n                value: 'header-three',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.header3',\r\n            },\r\n            {\r\n                value: 'header-four',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.header4',\r\n            },\r\n            {\r\n                value: 'header-five',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.header5',\r\n            },\r\n            {\r\n                value: 'header-six',\r\n                text: LANG_PREFIX + 'controls.blockType.labels.header6',\r\n            },\r\n        ],\r\n    },\r\n    image: {\r\n        uploadCallback: fileToBase64,\r\n    },\r\n    fontColor: {\r\n        colorsPerRow: 10,\r\n        options: colors,\r\n    },\r\n    fontBackgroundColor: {\r\n        colorsPerRow: 10,\r\n        options: colors,\r\n    },\r\n    fontSize: {\r\n        options: [\r\n            'default',\r\n            '8px',\r\n            '9px',\r\n            '10px',\r\n            '11px',\r\n            '12px',\r\n            '14px',\r\n            '18px',\r\n            '24px',\r\n            '30px',\r\n            '36px',\r\n            '48px',\r\n            '60px',\r\n            '72px',\r\n            '96px',\r\n        ],\r\n    },\r\n    fontFamily: {\r\n        options: [\r\n            'default',\r\n            'Arial',\r\n            'Verdana',\r\n            'Times New Roman',\r\n            'Georgia',\r\n            'Courier new',\r\n            'Lucida Console',\r\n        ],\r\n    },\r\n};\r\n","import { defaultToolbarControls, defaultToolbarControlsConfiguration } from './editorToolbar';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nexport const defaultConfig = {\r\n    lang: 'en',\r\n    translations: {},\r\n    draftEditor: {},\r\n    editor: {\r\n        wrapperElement: Paper,\r\n        className: '',\r\n        style: {},\r\n    },\r\n    toolbar: {\r\n        className: '',\r\n        style: {},\r\n        visible: true,\r\n        position: 'top',\r\n        controls: defaultToolbarControls,\r\n        controlsConfig: defaultToolbarControlsConfiguration,\r\n    },\r\n};\r\n","/**\r\n * Simple object check.\r\n * @param item\r\n * @returns {boolean}\r\n */\r\nexport function isObject(item) {\r\n    return item && typeof item === 'object' && !Array.isArray(item);\r\n}\r\n\r\n/**\r\n * Deep merge two objects.\r\n * @param target\r\n * @param sources\r\n */\r\nexport function mergeDeep(target, ...sources) {\r\n    if (!sources.length) return target;\r\n    const source = sources.shift();\r\n\r\n    if (isObject(target) && isObject(source)) {\r\n        for (const key in source) {\r\n            // noinspection JSUnfilteredForInLoop\r\n            if (isObject(source[key])) {\r\n                // noinspection JSUnfilteredForInLoop\r\n                if (!target[key]) {\r\n                    // noinspection JSUnfilteredForInLoop\r\n                    Object.assign(target, { [key]: {} });\r\n                }\r\n                // noinspection JSUnfilteredForInLoop\r\n                mergeDeep(target[key], source[key]);\r\n            } else {\r\n                // noinspection JSUnfilteredForInLoop\r\n                Object.assign(target, { [key]: source[key] });\r\n            }\r\n        }\r\n    }\r\n\r\n    return mergeDeep(target, ...sources);\r\n}\r\n","export default {\r\n    controls: {\r\n        undo: {\r\n            title: 'Desfer',\r\n        },\r\n        redo: {\r\n            title: 'Refer',\r\n        },\r\n        bold: {\r\n            title: 'Negreta',\r\n        },\r\n        italic: {\r\n            title: 'Cursiva',\r\n        },\r\n        underline: {\r\n            title: 'Subratllat',\r\n        },\r\n        strikethrough: {\r\n            title: 'Ratllat',\r\n        },\r\n        code: {\r\n            title: 'Codi',\r\n        },\r\n        fontColor: {\r\n            title: 'Color de font',\r\n            labels: {\r\n                noColor: 'Sense color',\r\n            },\r\n        },\r\n        fontBackgroundColor: {\r\n            title: 'Color de resaltat del text',\r\n            labels: {\r\n                noColor: 'Sense color',\r\n            },\r\n        },\r\n        linkAdd: {\r\n            title: 'Afegir enllaç',\r\n            labels: {\r\n                link: 'Enllaç',\r\n            },\r\n            actions: {\r\n                add: 'Afegir',\r\n                cancel: 'Cancel·lar',\r\n            },\r\n        },\r\n        linkRemove: {\r\n            title: 'Eliminar enllaç',\r\n        },\r\n        image: {\r\n            title: 'Afegir imatge',\r\n            actions: {\r\n                upload: 'Pujar imatge',\r\n                url: 'Des de URL',\r\n                add: 'Afegir',\r\n                cancel: 'Cancel·lar',\r\n                alignLeft: \"Alinear a l'esquerra\",\r\n                alignCenter: 'Centrar',\r\n                alignRight: 'Alinear a la dreta',\r\n                remove: 'Eliminar imatge',\r\n                resize: 'Redimensionar',\r\n            },\r\n            labels: {\r\n                dropImageHere: 'Arrossega una imatge aquí o fes click per a pujar una',\r\n                width: 'Ample',\r\n                height: 'Alt',\r\n                url: 'URL',\r\n                insertOptions: 'Opcions de afegir imatge',\r\n                editOptions: \"Opcions d'imatge\",\r\n            },\r\n            errorMessages: {\r\n                notValidImage: 'La imatge no és vàlida',\r\n            },\r\n        },\r\n        blockType: {\r\n            title: 'Format de bloc',\r\n            labels: {\r\n                normal: 'Normal',\r\n                header1: 'Títol 1',\r\n                header2: 'Títol 2',\r\n                header3: 'Títol 3',\r\n                header4: 'Títol 4',\r\n                header5: 'Títol 5',\r\n                header6: 'Títol 6',\r\n            },\r\n        },\r\n        fontSize: {\r\n            title: 'Grandària de font',\r\n            labels: {\r\n                default: 'Per defecte',\r\n            },\r\n        },\r\n        fontFamily: {\r\n            title: 'Font',\r\n            labels: {\r\n                default: 'Per defecte',\r\n            },\r\n        },\r\n        textAlign: {\r\n            title: 'Alinear text',\r\n            actions: {\r\n                alignLeft: 'Esquerra',\r\n                alignCenter: 'Centre',\r\n                alignRight: 'Dreta',\r\n                justify: 'Justificar',\r\n            },\r\n        },\r\n        unorderedList: {\r\n            title: 'Vinyetes',\r\n        },\r\n        orderedList: {\r\n            title: 'Numeració',\r\n        },\r\n    },\r\n};\r\n","export default {\r\n    controls: {\r\n        undo: {\r\n            title: 'Undo',\r\n        },\r\n        redo: {\r\n            title: 'Redo',\r\n        },\r\n        bold: {\r\n            title: 'Bold',\r\n        },\r\n        italic: {\r\n            title: 'Italic',\r\n        },\r\n        underline: {\r\n            title: 'Underline',\r\n        },\r\n        strikethrough: {\r\n            title: 'Strike through',\r\n        },\r\n        code: {\r\n            title: 'Code',\r\n        },\r\n        fontColor: {\r\n            title: 'Font color',\r\n            labels: {\r\n                noColor: 'None',\r\n            },\r\n        },\r\n        fontBackgroundColor: {\r\n            title: 'Highlight color',\r\n            labels: {\r\n                noColor: 'None',\r\n            },\r\n        },\r\n        linkAdd: {\r\n            title: 'Add link',\r\n            labels: {\r\n                link: 'Link',\r\n            },\r\n            actions: {\r\n                add: 'Add',\r\n                cancel: 'Cancel',\r\n            },\r\n        },\r\n        linkRemove: {\r\n            title: 'Remove link',\r\n        },\r\n        image: {\r\n            title: 'Insert image',\r\n            actions: {\r\n                upload: 'Upload image',\r\n                url: 'By URL',\r\n                add: 'Add',\r\n                cancel: 'Cancel',\r\n                alignLeft: 'Align left',\r\n                alignCenter: 'Align center',\r\n                alignRight: 'Align right',\r\n                remove: 'Remove image',\r\n                resize: 'Resize',\r\n            },\r\n            labels: {\r\n                dropImageHere: 'Drop image here or click to upload',\r\n                width: 'Width',\r\n                height: 'Height',\r\n                url: 'URL',\r\n                insertOptions: 'Insert image options',\r\n                editOptions: 'Image options',\r\n            },\r\n            errorMessages: {\r\n                notValidImage: 'Not a valid image',\r\n            },\r\n        },\r\n        blockType: {\r\n            title: 'Block format',\r\n            labels: {\r\n                normal: 'Normal',\r\n                header1: 'Header 1',\r\n                header2: 'Header 2',\r\n                header3: 'Header 3',\r\n                header4: 'Header 4',\r\n                header5: 'Header 5',\r\n                header6: 'Header 6',\r\n            },\r\n        },\r\n        fontSize: {\r\n            title: 'Font size',\r\n            labels: {\r\n                default: 'default',\r\n            },\r\n        },\r\n        fontFamily: {\r\n            title: 'Font type',\r\n            labels: {\r\n                default: 'default',\r\n            },\r\n        },\r\n        textAlign: {\r\n            title: 'Align text',\r\n            actions: {\r\n                alignLeft: 'Left',\r\n                alignCenter: 'Center',\r\n                alignRight: 'Right',\r\n                justify: 'Justify',\r\n            },\r\n        },\r\n        unorderedList: {\r\n            title: 'Unordered list',\r\n        },\r\n        orderedList: {\r\n            title: 'Ordered list',\r\n        },\r\n    },\r\n};\r\n","export default {\r\n    controls: {\r\n        undo: {\r\n            title: 'Deshacer',\r\n        },\r\n        redo: {\r\n            title: 'Rehacer',\r\n        },\r\n        bold: {\r\n            title: 'Negrita',\r\n        },\r\n        italic: {\r\n            title: 'Cursiva',\r\n        },\r\n        underline: {\r\n            title: 'Subrayado',\r\n        },\r\n        strikethrough: {\r\n            title: 'Tachado',\r\n        },\r\n        code: {\r\n            title: 'Código',\r\n        },\r\n        fontColor: {\r\n            title: 'Color de fuente',\r\n            labels: {\r\n                noColor: 'Sin color',\r\n            },\r\n        },\r\n        fontBackgroundColor: {\r\n            title: 'Color de resaltado de texto',\r\n            labels: {\r\n                noColor: 'Sin color',\r\n            },\r\n        },\r\n        linkAdd: {\r\n            title: 'Añadir enlace',\r\n            labels: {\r\n                link: 'Enlace',\r\n            },\r\n            actions: {\r\n                add: 'Añadir',\r\n                cancel: 'Cancelar',\r\n            },\r\n        },\r\n        linkRemove: {\r\n            title: 'Eliminar enlace',\r\n        },\r\n        image: {\r\n            title: 'Insertar imagen',\r\n            actions: {\r\n                upload: 'Subir imagen',\r\n                url: 'Desde URL',\r\n                add: 'Añadir',\r\n                cancel: 'Cancelar',\r\n                alignLeft: 'Alinear a la izquierda',\r\n                alignCenter: 'Centrar',\r\n                alignRight: 'Alinear a la derecha',\r\n                remove: 'Eliminar imagen',\r\n                resize: 'Redimensionar',\r\n            },\r\n            labels: {\r\n                dropImageHere: 'Arrastra una imagen aquí o haz click para subir una',\r\n                width: 'Ancho',\r\n                height: 'Alto',\r\n                url: 'URL',\r\n                insertOptions: 'Opciones de insertar imagen',\r\n                editOptions: 'Opciones de imagen',\r\n            },\r\n            errorMessages: {\r\n                notValidImage: 'La imagen no es válida',\r\n            },\r\n        },\r\n        blockType: {\r\n            title: 'Formato de bloque',\r\n            labels: {\r\n                normal: 'Normal',\r\n                header1: 'Encabezado 1',\r\n                header2: 'Encabezado 2',\r\n                header3: 'Encabezado 3',\r\n                header4: 'Encabezado 4',\r\n                header5: 'Encabezado 5',\r\n                header6: 'Encabezado 6',\r\n            },\r\n        },\r\n        fontSize: {\r\n            title: 'Tamaño de fuente',\r\n            labels: {\r\n                default: 'Por defecto',\r\n            },\r\n        },\r\n        fontFamily: {\r\n            title: 'Fuente',\r\n            labels: {\r\n                default: 'Por defecto',\r\n            },\r\n        },\r\n        textAlign: {\r\n            title: 'Alinear texto',\r\n            actions: {\r\n                alignLeft: 'Izquierda',\r\n                alignCenter: 'Centro',\r\n                alignRight: 'Derecha',\r\n                justify: 'Justificar',\r\n            },\r\n        },\r\n        unorderedList: {\r\n            title: 'Viñetas',\r\n        },\r\n        orderedList: {\r\n            title: 'Numeración',\r\n        },\r\n    },\r\n};\r\n","import ca from './translations/ca';\r\nimport en from './translations/en';\r\nimport es from './translations/es';\r\n\r\nexport default { ca, en, es };\r\n","import React from 'react';\r\nimport { CompositeDecorator, DefaultDraftBlockRenderMap } from 'draft-js';\r\nimport { defaultConfig } from '../types/config';\r\nimport { defaultToolbarControlsConfiguration } from '../types/editorToolbar';\r\nimport { mergeDeep } from './objectUtils';\r\nimport languages from '../lang/languages';\r\n\r\nclass EditorFactories {\r\n    constructor(config) {\r\n        this.config = config || defaultConfig;\r\n    }\r\n\r\n    getCompositeDecorator() {\r\n        let decorators = [];\r\n        for (const control of this.getToolbarControls()) {\r\n            const pluginData = this.getPluginData(control);\r\n            if (pluginData && pluginData.decorators) {\r\n                decorators = decorators.concat(pluginData.decorators);\r\n            }\r\n        }\r\n        return decorators.length > 0 ? new CompositeDecorator(decorators) : null;\r\n    }\r\n\r\n    getCustomStyleMap() {\r\n        let customStyleMap = {};\r\n        for (const control of this.getToolbarControls()) {\r\n            const pluginData = this.getPluginData(control);\r\n            if (pluginData && pluginData.customStyleMap) {\r\n                customStyleMap = {\r\n                    ...customStyleMap,\r\n                    ...pluginData.customStyleMap,\r\n                };\r\n            }\r\n        }\r\n        return customStyleMap;\r\n    }\r\n\r\n    getBlockRenderMap() {\r\n        let renderMap = DefaultDraftBlockRenderMap;\r\n        for (const control of this.getToolbarControls()) {\r\n            const pluginData = this.getPluginData(control);\r\n            if (pluginData && pluginData.blockRenderMap) {\r\n                renderMap = renderMap.merge(pluginData.blockRenderMap);\r\n            }\r\n        }\r\n\r\n        return renderMap;\r\n    }\r\n\r\n    getBlockStyleFn() {\r\n        return (contentBlock) => {\r\n            let classNames = '';\r\n            for (const control of this.getToolbarControls()) {\r\n                const pluginData = this.getPluginData(control);\r\n                if (pluginData && pluginData.blockStyleFn) {\r\n                    const result = pluginData.blockStyleFn(contentBlock);\r\n                    if (result) classNames += ' ' + result;\r\n                }\r\n            }\r\n            return classNames.trim();\r\n        };\r\n    }\r\n\r\n    getBlockRendererFn() {\r\n        return (contentBlock) => {\r\n            for (const control of this.getToolbarControls()) {\r\n                const pluginData = this.getPluginData(control);\r\n                if (!pluginData || !pluginData.blockRendererFn) continue;\r\n                const result = pluginData.blockRendererFn(contentBlock);\r\n                if (result) return result;\r\n            }\r\n        };\r\n    }\r\n\r\n    getToolbarControls() {\r\n        return this.getConfigItem('toolbar', 'controls');\r\n    }\r\n\r\n    getToolbarControlComponents() {\r\n        const keyCounter = {};\r\n        return this.getToolbarControls().map((control) => {\r\n            if (!keyCounter[control.name]) keyCounter[control.name] = 0;\r\n            keyCounter[control.name]++;\r\n\r\n            return React.createElement(control.component, {\r\n                key: `${control.name}${keyCounter[control.name]}`,\r\n                configuration: this.getToolbarControlConfiguration(control.name),\r\n                defaultConfiguration: defaultToolbarControlsConfiguration[control.name],\r\n                pluginData: this.getPluginData(control),\r\n            });\r\n        });\r\n    }\r\n\r\n    getToolbarControlConfiguration(controlName) {\r\n        if (\r\n            this.config &&\r\n            this.config.toolbar &&\r\n            this.config.toolbar.controlsConfig &&\r\n            this.config.toolbar.controlsConfig[controlName]\r\n        )\r\n            return this.config.toolbar.controlsConfig[controlName];\r\n        else if (defaultToolbarControlsConfiguration[controlName])\r\n            return defaultToolbarControlsConfiguration[controlName];\r\n\r\n        return null;\r\n    }\r\n\r\n    getPluginData(control) {\r\n        if (!control.plugin) return null;\r\n        return control.plugin(\r\n            this.getToolbarControlConfiguration(control.name),\r\n            defaultToolbarControlsConfiguration[control.name]\r\n        );\r\n    }\r\n\r\n    getTranslations() {\r\n        const lang = this.getConfigItem('lang');\r\n        const langTranslations = languages[lang];\r\n        const customTranslations = this.config.translations || {};\r\n        return mergeDeep(langTranslations, customTranslations);\r\n    }\r\n\r\n    getToolbarPosition() {\r\n        return this.getConfigItem('toolbar', 'position').toLowerCase();\r\n    }\r\n\r\n    getConfigItem(...keys) {\r\n        let item = { ...this.config };\r\n        for (const key of keys) {\r\n            item = item[key];\r\n            if (item === undefined) break;\r\n        }\r\n\r\n        if (item !== undefined) return item;\r\n\r\n        item = { ...defaultConfig };\r\n        for (const key of keys) {\r\n            item = item[key];\r\n        }\r\n\r\n        return item;\r\n    }\r\n}\r\n\r\nexport default EditorFactories;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Grid from '@mui/material/Grid';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nfunction EditorToolbar({ children, visible = true, ...rest }) {\r\n    return (\r\n        <Paper hidden={!visible} {...rest}>\r\n            <Grid container alignItems=\"center\">\r\n                {children}\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nEditorToolbar.propTypes = {\r\n    children: PropTypes.any,\r\n    visible: PropTypes.bool,\r\n};\r\n\r\nexport default EditorToolbar;\r\n","export default class Translator {\r\n    constructor(translations) {\r\n        this.translations = translations;\r\n    }\r\n\r\n    get(id) {\r\n        if (!id) return '';\r\n        const keys = id.split('.');\r\n        let item = this.translations;\r\n        for (const key of keys) {\r\n            item = item[key];\r\n            if (item === undefined) return '';\r\n        }\r\n        return item || '';\r\n    }\r\n}\r\n","import blockStyles from '../../types/blockStyles';\r\n\r\nexport const blockHTMLMap = {\r\n    [blockStyles.H1]: 'h1',\r\n    [blockStyles.H2]: 'h2',\r\n    [blockStyles.H3]: 'h3',\r\n    [blockStyles.H4]: 'h4',\r\n    [blockStyles.H5]: 'h5',\r\n    [blockStyles.H6]: 'h6',\r\n    [blockStyles.BLOCKQUOTE]: 'blockquote',\r\n    [blockStyles.CODE_BLOCK]: 'code',\r\n    [blockStyles.UNSTYLED]: 'p',\r\n    [blockStyles.ATOMIC]: 'figure',\r\n    [blockStyles.UL]: 'li',\r\n    [blockStyles.OL]: 'li',\r\n};\r\n","import entities from '../../types/entities';\r\n\r\nexport const entityHTMLMap = {\r\n    [entities.LINK]: (entity) => [`<a href=\"${entity.getData().url}\" target=\"_blank\">`, '</a>'],\r\n    [entities.IMAGE]: (entity) => [\r\n        `<img src=\"${entity.data.src}\" alt=\"\" width=\"${entity.getData().width}\" height=\"${\r\n            entity.getData().height\r\n        }\">`,\r\n        '',\r\n    ],\r\n};\r\n","import inlineStyles from '../../types/inlineStyles';\r\n\r\nconst isInlineStyleCollection = (inlineStyle, style) =>\r\n    inlineStyle.substr(0, style.length) === style;\r\nconst getInlineStyleCollectionValue = (inlineStyle, style) => inlineStyle.substr(style.length + 1);\r\nexport const getInlineStylesCss = (inlineStyle) => {\r\n    switch (inlineStyle) {\r\n        case inlineStyles.BOLD:\r\n            return 'font-weight: bold;';\r\n        case inlineStyles.ITALIC:\r\n            return 'font-style: italic;';\r\n        case inlineStyles.UNDERLINE:\r\n            return 'text-decoration: underline;';\r\n        case inlineStyles.STRIKETHROUGH:\r\n            return 'text-decoration: line-through;';\r\n        case inlineStyles.CODE:\r\n            return 'font-family: monospace;';\r\n        default:\r\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_FAMILY)) {\r\n                return `font-family: '${getInlineStyleCollectionValue(\r\n                    inlineStyle,\r\n                    inlineStyles.FONT_FAMILY\r\n                )}';`;\r\n            }\r\n\r\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_SIZE)) {\r\n                return `font-size: ${getInlineStyleCollectionValue(\r\n                    inlineStyle,\r\n                    inlineStyles.FONT_SIZE\r\n                )};`;\r\n            }\r\n\r\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_COLOR)) {\r\n                return `color: ${getInlineStyleCollectionValue(\r\n                    inlineStyle,\r\n                    inlineStyles.FONT_COLOR\r\n                )};`;\r\n            }\r\n\r\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_BACKGROUND)) {\r\n                return `background-color: ${getInlineStyleCollectionValue(\r\n                    inlineStyle,\r\n                    inlineStyles.FONT_BACKGROUND\r\n                )};`;\r\n            }\r\n\r\n            return '';\r\n    }\r\n};\r\n","import { blockHTMLMap } from './block';\r\nimport { entityHTMLMap } from './entity';\r\nimport { getInlineStylesCss } from './inlineStyle';\r\nimport blockStyles from '../../types/blockStyles';\r\n\r\nconst toHTML = (contentState) => {\r\n    let html = '';\r\n    let isListBlock = false;\r\n    const blockMap = contentState.getBlockMap();\r\n    let blockCount = 0;\r\n    for (const blockData of blockMap) {\r\n        const block = blockData[1];\r\n        // Block tags\r\n        const blockTag = blockHTMLMap[block.getType()];\r\n        const blockStyle = block.getData().has('textAlign')\r\n            ? `text-align:${block.getData().get('textAlign')};`\r\n            : null;\r\n        let blockOpenTag = blockTag\r\n            ? `<${blockTag}${blockStyle ? ` style=\"${blockStyle}\"` : ''}>`\r\n            : '';\r\n        let blockCloseTag = blockTag ? `</${blockTag}>` : '';\r\n\r\n        if (block.getType() === blockStyles.UL || block.getType() === blockStyles.OL) {\r\n            if (!isListBlock) {\r\n                blockOpenTag = `${\r\n                    block.getType() === blockStyles.UL ? '<ul>' : '<ol>'\r\n                }${blockOpenTag}`;\r\n            }\r\n            // if is the last block closes the list\r\n            if (blockCount === blockMap.length - 1) {\r\n                blockCloseTag = `${blockCloseTag}${\r\n                    block.getType() === blockStyles.UL ? '</ul>' : '</ol>'\r\n                }`;\r\n            }\r\n            isListBlock = true;\r\n        } else {\r\n            // Closes the previous opened list\r\n            if (isListBlock) {\r\n                blockOpenTag = `${\r\n                    block.getType() === blockStyles.UL ? '</ul>' : '</ol>'\r\n                }${blockOpenTag}`;\r\n            }\r\n            isListBlock = false;\r\n        }\r\n\r\n        if (block.getLength() === 0) {\r\n            html += blockOpenTag + blockCloseTag;\r\n            continue;\r\n        }\r\n\r\n        html += blockOpenTag;\r\n        let lastEntityKey = null;\r\n        const currentOpenedStylesMap = {};\r\n        for (const charIndex in block.getText()) {\r\n            const isLastChar = parseInt(charIndex) === block.getLength() - 1;\r\n            // Entities\r\n            let entityOpenTag = '';\r\n            let entityCloseTag = '';\r\n            const currentEntityKey = block.getEntityAt(charIndex);\r\n            if (currentEntityKey !== lastEntityKey) {\r\n                if (lastEntityKey === null) {\r\n                    const entity = contentState.getEntity(currentEntityKey);\r\n                    entityOpenTag = entityHTMLMap[entity.getType()](entity)[0];\r\n                } else if (currentEntityKey === null) {\r\n                    const entity = contentState.getEntity(lastEntityKey);\r\n                    entityCloseTag = entityHTMLMap[entity.getType()](entity)[1];\r\n                } else {\r\n                    const entityHaveToClose = contentState.getEntity(lastEntityKey);\r\n                    const entityHaveToOpen = contentState.getEntity(currentEntityKey);\r\n                    entityOpenTag =\r\n                        entityHTMLMap[entityHaveToClose.getType()](entityHaveToClose)[0] +\r\n                        entityHTMLMap[entityHaveToOpen.getType()](entityHaveToOpen)[1];\r\n                }\r\n            } else if (currentEntityKey !== null && isLastChar) {\r\n                const entity = contentState.getEntity(currentEntityKey);\r\n                entityCloseTag = entityHTMLMap[entity.getType()](entity)[1];\r\n            }\r\n\r\n            // Inline styles\r\n            const charInlineStyles = block.getInlineStyleAt(charIndex);\r\n            const styleCloseTagBeforeList = [];\r\n            const styleOpenTagList = [];\r\n            const styleCloseTagList = [];\r\n            const styleCloseTagOpenIndexList = [];\r\n            const styleCloseTagBeforeOpenIndexList = [];\r\n\r\n            for (const inlineStyle of charInlineStyles) {\r\n                if (currentOpenedStylesMap[inlineStyle] === undefined) {\r\n                    styleOpenTagList.push(inlineStyle);\r\n                    currentOpenedStylesMap[inlineStyle] = charIndex;\r\n                } else if (entityOpenTag || entityCloseTag) {\r\n                    styleCloseTagBeforeList.push(inlineStyle);\r\n                    styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\r\n                    delete currentOpenedStylesMap[inlineStyle];\r\n                } else if (isLastChar) {\r\n                    styleCloseTagList.push(inlineStyle);\r\n                    styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\r\n                    delete currentOpenedStylesMap[inlineStyle];\r\n                }\r\n            }\r\n\r\n            for (const inlineStyle in currentOpenedStylesMap) {\r\n                if (\r\n                    !charInlineStyles.includes(inlineStyle) &&\r\n                    !styleCloseTagList.includes(inlineStyle) &&\r\n                    !styleCloseTagBeforeList.includes(inlineStyle)\r\n                ) {\r\n                    styleCloseTagBeforeList.push(inlineStyle);\r\n                    styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\r\n                    delete currentOpenedStylesMap[inlineStyle];\r\n                } else if (isLastChar) {\r\n                    styleCloseTagList.push(inlineStyle);\r\n                    styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\r\n                    delete currentOpenedStylesMap[inlineStyle];\r\n                }\r\n            }\r\n\r\n            for (const closedIndex of styleCloseTagOpenIndexList) {\r\n                for (const inlineStyle in currentOpenedStylesMap) {\r\n                    if (currentOpenedStylesMap[inlineStyle] > closedIndex) {\r\n                        styleCloseTagList.push(inlineStyle);\r\n                        styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\r\n                        delete currentOpenedStylesMap[inlineStyle];\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (const closedIndex of styleCloseTagBeforeOpenIndexList) {\r\n                for (const inlineStyle in currentOpenedStylesMap) {\r\n                    if (\r\n                        currentOpenedStylesMap[inlineStyle] < charIndex &&\r\n                        currentOpenedStylesMap[inlineStyle] > closedIndex\r\n                    ) {\r\n                        styleCloseTagBeforeList.push(inlineStyle);\r\n                        styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\r\n                        delete currentOpenedStylesMap[inlineStyle];\r\n                        if (charInlineStyles.includes(inlineStyle)) {\r\n                            styleOpenTagList.push(inlineStyle);\r\n                            currentOpenedStylesMap[inlineStyle] = charIndex;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // HTML Build\r\n            let j = 0;\r\n            while (j < styleCloseTagBeforeList.length) {\r\n                html += '</span>';\r\n                j++;\r\n            }\r\n            html += entityOpenTag;\r\n            for (const style of styleOpenTagList) {\r\n                html += '<span style=\"' + getInlineStylesCss(style) + '\">';\r\n            }\r\n            html += block.getText()[charIndex];\r\n            let k = 0;\r\n            while (k < styleCloseTagList.length) {\r\n                html += '</span>';\r\n                k++;\r\n            }\r\n            html += entityCloseTag;\r\n\r\n            lastEntityKey = currentEntityKey;\r\n        }\r\n        html += blockCloseTag;\r\n        blockCount++;\r\n    }\r\n    return html;\r\n};\r\n\r\nexport default toHTML;\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Editor, EditorState, RichUtils } from 'draft-js';\r\nimport EditorFactories from './utils/EditorFactories';\r\nimport EditorToolbar from './EditorToolbar';\r\nimport { defaultConfig } from './types/config';\r\nimport Translator from './lang/Translator';\r\nimport GlobalStyles from '@mui/material/GlobalStyles';\r\nimport toHTML from './conversion/toHTML';\r\nimport useEditor from './hooks/useEditor';\r\nimport useEditorFocus from './hooks/useEditorFocus';\r\nimport 'draft-js/dist/Draft.css';\r\nimport { useTheme } from '@mui/material';\r\n\r\nexport { toolbarControlTypes } from './types/editorToolbar';\r\nexport { LANG_PREFIX } from './types/lang';\r\nexport { fileToBase64 } from './utils/fileUtils';\r\nexport { toHTML, useEditor, useEditorFocus };\r\n\r\nexport const EditorContext = React.createContext({});\r\n\r\nexport const MUIEditorState = {\r\n    createEmpty: (config) => {\r\n        const editorFactories = new EditorFactories(config);\r\n        return EditorState.createEmpty(editorFactories.getCompositeDecorator());\r\n    },\r\n    createWithContent: (config, contentState) => {\r\n        const editorFactories = new EditorFactories(config);\r\n        return EditorState.createWithContent(contentState, editorFactories.getCompositeDecorator());\r\n    },\r\n};\r\n\r\nconst useStyles = (theme) => {\r\n    return {\r\n        editorWrapper: {\r\n            marginTop: theme.spacing(2),\r\n            marginBottom: theme.spacing(2),\r\n            padding: theme.spacing(5),\r\n        },\r\n    };\r\n};\r\n\r\nexport default function MUIEditor({\r\n    editorState,\r\n    onChange,\r\n    onFocus = null,\r\n    onBlur = null,\r\n    config = defaultConfig,\r\n}) {\r\n    const editorFactories = new EditorFactories(config);\r\n    const editorRef = React.useRef(null);\r\n    const translateRef = React.useRef(function () {});\r\n    const translationsRef = React.useRef(null);\r\n    const toolbarVisibleConfig = editorFactories.getConfigItem('toolbar', 'visible');\r\n    const [isToolbarVisible, setIsToolbarVisible] = React.useState(toolbarVisibleConfig);\r\n    const [isResizeImageDialogVisible, setIsResizeImageDialogVisible] = React.useState(false);\r\n    const [resizeImageEntityKey, setResizeImageEntityKey] = React.useState(null);\r\n\r\n    translationsRef.current = editorFactories.getTranslations();\r\n    translateRef.current = React.useCallback((id) => {\r\n        const translator = new Translator(translationsRef.current);\r\n        return translator.get(id);\r\n    }, []);\r\n    const classes = useStyles(useTheme());\r\n\r\n    React.useEffect(() => {\r\n        setIsToolbarVisible(toolbarVisibleConfig);\r\n    }, [toolbarVisibleConfig]);\r\n\r\n    const toolbar = (\r\n        <EditorToolbar\r\n            visible={isToolbarVisible}\r\n            style={editorFactories.getConfigItem('toolbar', 'style')}\r\n            className={editorFactories.getConfigItem('toolbar', 'className')}>\r\n            {editorFactories.getToolbarControlComponents()}\r\n        </EditorToolbar>\r\n    );\r\n\r\n    const top = editorFactories.getToolbarPosition() === 'top' ? toolbar : null;\r\n    const bottom = editorFactories.getToolbarPosition() === 'bottom' ? toolbar : null;\r\n\r\n    const handleKeyCommand = (command) => {\r\n        const newState = RichUtils.handleKeyCommand(editorState, command);\r\n        if (newState) {\r\n            onChange(newState);\r\n            return 'handled';\r\n        }\r\n        return 'not-handled';\r\n    };\r\n\r\n    const handleFocus = (ev) => {\r\n        if (onFocus) onFocus(ev);\r\n    };\r\n\r\n    const handleBlur = (ev) => {\r\n        if (onBlur) onBlur(ev);\r\n    };\r\n\r\n    const editorWrapperProps = {\r\n        style: editorFactories.getConfigItem('editor', 'style'),\r\n        className: `${classes.editorWrapper} ${editorFactories.getConfigItem(\r\n            'editor',\r\n            'className'\r\n        )}`,\r\n        onClick: () => editorRef.current.focus(),\r\n    };\r\n\r\n    const editorWrapperElement = editorFactories.getConfigItem('editor', 'wrapperElement');\r\n\r\n    const EditorWrapper = React.createElement(\r\n        editorWrapperElement,\r\n        editorWrapperProps,\r\n        <Editor\r\n            {...editorFactories.getConfigItem('draftEditor')}\r\n            ref={editorRef}\r\n            editorState={editorState}\r\n            onChange={onChange}\r\n            onFocus={(ev) => handleFocus(ev)}\r\n            onBlur={(ev) => handleBlur(ev)}\r\n            handleKeyCommand={handleKeyCommand}\r\n            blockStyleFn={editorFactories.getBlockStyleFn()}\r\n            customStyleMap={editorFactories.getCustomStyleMap()}\r\n            blockRenderMap={editorFactories.getBlockRenderMap()}\r\n            blockRendererFn={editorFactories.getBlockRendererFn()}\r\n        />\r\n    );\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <GlobalStyles\r\n                styles={{\r\n                    '.mui-editor-left-aligned-block': {\r\n                        textAlign: 'left !important',\r\n                        '& > div': {\r\n                            textAlign: 'left !important',\r\n                        },\r\n                    },\r\n                    '.mui-editor-center-aligned-block': {\r\n                        textAlign: 'center !important',\r\n                        '& > div': {\r\n                            textAlign: 'center !important',\r\n                        },\r\n                    },\r\n                    '.mui-editor-right-aligned-block': {\r\n                        textAlign: 'right !important',\r\n                        '& > div': {\r\n                            textAlign: 'right !important',\r\n                        },\r\n                    },\r\n                    '.mui-editor-justify-aligned-block': {\r\n                        textAlign: 'justify !important',\r\n                        '& > div': {\r\n                            textAlign: 'justify !important',\r\n                        },\r\n                    },\r\n                }}\r\n            />\r\n\r\n            <EditorContext.Provider\r\n                value={{\r\n                    editorState,\r\n                    onChange,\r\n                    ref: editorRef.current,\r\n                    translate: translateRef.current,\r\n                    showResizeImageDialog: (entityKey) => {\r\n                        setIsResizeImageDialogVisible(true);\r\n                        setResizeImageEntityKey(entityKey);\r\n                    },\r\n                    hideResizeImageDialog: () => {\r\n                        setIsResizeImageDialogVisible(false);\r\n                        setResizeImageEntityKey(null);\r\n                    },\r\n                    isResizeImageDialogVisible,\r\n                    resizeImageEntityKey,\r\n                }}>\r\n                {top}\r\n                {EditorWrapper}\r\n                {bottom}\r\n            </EditorContext.Provider>\r\n        </React.Fragment>\r\n    );\r\n}\r\n"],"names":["DividerControl","React","createElement","Divider","orientation","flexItem","useEditor","useContext","EditorContext","useEditorFocus","editor","_React$useState","useState","changesCount","setChangesCount","useEffect","ref","focus","currentChangesCount","useStyles","props","badge","background","badgeColor","ButtonControl","_ref","children","onClick","_ref$disabled","disabled","_ref$active","active","_ref$text","text","_ref$badgeColor","rest","_objectWithoutPropertiesLoose","_excluded","classes","Tooltip","title","IconButton","_extends","color","Badge","anchorOrigin","vertical","horizontal","overlap","badgeContent","invisible","variant","propTypes","PropTypes","any","isRequired","func","bool","UndoControl","editorFocus","onChange","EditorState","undo","editorState","translate","UndoIcon","RedoControl","redo","RedoIcon","toggleMappedInlineStyle","styleKeys","newInlineStyle","selection","getSelection","newContentState","reduce","contentState","inlineStyle","Modifier","removeInlineStyle","getCurrentContent","newEditorState","push","currentStyle","getCurrentInlineStyle","isCollapsed","state","RichUtils","toggleInlineStyle","has","getCurrentMappedInlineStyle","defaultInlineStyle","find","includes","hasAllSelectionTheInlineStyle","startKey","getStartKey","startOffset","getStartOffset","endKey","getEndKey","endOffset","getEndOffset","currentContent","block","getBlockForKey","allHasTheInlineStyle","styleRangesCallback","start","end","expectedStart","getKey","expectedEnd","getLength","findStyleRanges","character","hasStyle","getBlockAfter","getCurrentBlockType","availableBlockTypes","blockType","avBlockType","applyEntityToCurrentSelection","entityType","mutability","entityData","content","contentWithEntity","createEntity","entityKey","getLastCreatedEntityKey","contentStateWithEntity","applyEntity","ToggleInlineStyleButtonControl","string","isActive","setIsActive","BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","FONT_FAMILY","FONT_SIZE","FONT_COLOR","FONT_BACKGROUND","BoldControl","inlineStyles","FormatBoldIcon","ItalicControl","FormatItalicIcon","UnderlineControl","FormatUnderlinedIcon","StrikethroughControl","FormatStrikethroughIcon","LINK","IMAGE","LinkAddControl","isDialogOpened","setIsDialogOpened","_React$useState2","link","setLink","formRef","createRef","handleCloseDialog","onChangeLink","ev","currentTarget","value","handleSubmit","preventDefault","entities","url","Fragment","LinkIcon","Dialog","open","onClose","onSubmit","DialogContent","TextField","autoFocus","label","fullWidth","DialogActions","Button","type","linkStrategy","contentBlock","callback","findEntityRanges","getEntity","getType","EditorLink","blockKey","anchorEl","setAnchorEl","_contentState$getEnti","getData","showOptions","hideOptions","openLink","stopPropagation","window","removeLink","linkSelection","SelectionState","createEmpty","merge","anchorKey","anchorOffset","focusKey","focusOffset","toggleLink","Link","href","rel","target","Popover","Boolean","transformOrigin","ButtonGroup","size","LaunchIcon","LinkOffIcon","object","number","linkAddPlugin","decorators","strategy","component","LinkRemoveControl","LANG_PREFIX","translateLiteralWithPrefix","literal","translateFn","String","substr","length","theme","selectControl","margin","DropdownControl","options","_ref$minWidth","minWidth","useTheme","Select","className","style","map","option","MenuItem","key","array","BlockTypeControl","configuration","defaultConfiguration","setValue","handleChange","newValue","toggleBlockType","ToggleBlockTypeButtonControl","UnorderedListControl","FormatListBulletedIcon","H1","H2","H3","H4","H5","H6","UL","OL","BLOCKQUOTE","CODE_BLOCK","UNSTYLED","ATOMIC","OrderedListControl","blockStyles","FormatListNumberedIcon","FontFamilyControl","pluginData","selectedFontFamilyStyle","setSelectedFontFamilyStyle","Object","keys","customStyleMap","fontFamily","fontFamilyPlugin","fontFamilies","_iterator","_createForOfIteratorHelperLoose","_step","done","TextAlignControl","selectedTextAlign","setSelectedTextAlign","currentBlock","blockData","get","toggle","textAlign","mergeBlockData","FormatAlignLeftIcon","FormatAlignCenterIcon","FormatAlignRightIcon","FormatAlignJustifyIcon","textAlignPlugin","blockStyleFn","FontSizeControl","selectedFontSizeStyle","setSelectedFontSizeStyle","fontSize","renderValue","fontSizePlugin","fontSizes","isLightOrDark","r","g","b","match","slice","replace","hsp","Math","sqrt","colorRow","display","alignContent","alignItems","padding","colorItem","height","width","borderRadius","border","cursor","ColorSelectorControl","selectedColor","onSelectColor","colors","_ref$colorsPerRow","colorsPerRow","menuId","random","toString","substring","colorRows","i","rowI","handleOpen","handleClose","id","keepMounted","startIcon","FormatColorResetIcon","colorRowI","colorData","backgroundColor","CheckIcon","ToggleInlineStyleColorSelectorControl","colorCssProp","setSelectedColor","selectededInlineStyle","handleSelectColor","selectedColorData","FontColorControl","FormatColorTextIcon","fontColorPlugin","fontColors","fontColor","FontBackgroundColorControl","BorderColorIcon","fontBackgroundColorPlugin","fontBgs","fontBg","imgWrapper","maxWidth","maxHeight","overflow","marginTop","spacing","marginBottom","ImageToUpload","src","alt","SizeInputs","originalWidth","originalHeight","onChangeWidth","onChangeHeight","maintainAspectRatio","setMaintainAspectRatio","aspectRatio","handleChangeWidth","w","isNaN","parseInt","round","handleChangeHeight","h","handleClickAspectRatio","newMaintainAspectRatio","Grid","container","direction","justify","item","LockIcon","LockOpenIcon","ByUrlDialog","imageURL","setImageURL","imageWidth","setImageWidth","_React$useState3","imageOriginalWidth","setImageOriginalWidth","_React$useState4","imageHeight","setImageHeight","_React$useState5","imageOriginalHeight","setImageOriginalHeight","_React$useState6","isUploading","setIsUploading","_React$useState7","isValidImage","setIsValidImage","_React$useState8","hasError","setHasError","_React$useState9","changeTimeout","setChangeTimeout","resetForm","handleURLChange","clearTimeout","to","setTimeout","image","Image","onload","onerror","CircularProgress","Typography","gutterBottom","onEnter","highlightDropArea","dropArea","boxSizing","justifyContent","shape","palette","grey","hint","UploadDialog","uploadCallback","errorMessage","setErrorMessage","_React$useState10","setHighlightDropArea","inputFileRef","handleClickDropArea","current","click","handleDragEnter","handleDragLeave","handleDragOver","handleDrop","files","dataTransfer","_temp","Promise","resolve","onSelectFile","then","e","reject","handleInputFileChange","_temp2","file","_temp3","_catch","selectedImageUrl","dropAreaContent","accept","align","onDragEnter","onDragLeave","onDragOver","onDrop","ResizeImageDialog","onSave","setWidth","setHeight","ImageControl","isUploadDialogOpened","setIsUploadDialogOpened","isUrlDialogOpened","setIsUrlDialogOpened","imageEntityToResize","resizeImageEntityKey","handleSubmitImage","_ref2","AtomicBlockUtils","insertAtomicBlock","handleResizeImage","hideResizeImageDialog","mergeEntityData","ImageIcon","List","ListItem","button","ListItemIcon","PublishIcon","ListItemText","primary","isResizeImageDialogVisible","EditorMedia","entity","getEntityAt","_entity$getData","_entity$getData$width","_entity$getData$heigh","EditorImage","imgInfo","infoAnchorEl","setInfoAnchorEl","imageAlign","imageSelection","setBlockData","removeImage","removeRange","blockMap","getBlockMap","firstBlock","getFirstBlock","selectionToStart","selectionAfter","ArrowLeftIcon","ArrowRightIcon","showResizeImageDialog","PhotoSizeSelectLargeIcon","DeleteIcon","oneOfType","imagePlugin","blockRendererFn","editable","fileToBase64","reader","FileReader","result","error","readAsDataURL","toolbarControlTypes","divider","name","bold","italic","underline","strikethrough","plugin","fontBackgroundColor","linkAdd","linkRemove","unorderedList","orderedList","defaultToolbarControls","defaultToolbarControlsConfiguration","defaultConfig","lang","translations","draftEditor","wrapperElement","Paper","toolbar","visible","position","controls","controlsConfig","isObject","Array","isArray","mergeDeep","_len","arguments","sources","_key","source","shift","_Object$assign","assign","_Object$assign2","apply","concat","code","labels","noColor","actions","add","cancel","upload","alignLeft","alignCenter","alignRight","remove","resize","dropImageHere","insertOptions","editOptions","errorMessages","notValidImage","normal","header1","header2","header3","header4","header5","header6","ca","en","es","EditorFactories","config","_proto","prototype","getCompositeDecorator","getToolbarControls","control","getPluginData","CompositeDecorator","getCustomStyleMap","_iterator2","_step2","getBlockRenderMap","renderMap","DefaultDraftBlockRenderMap","_iterator3","_step3","blockRenderMap","getBlockStyleFn","_this","classNames","_iterator4","_step4","trim","getBlockRendererFn","_this2","_iterator5","_step5","getConfigItem","getToolbarControlComponents","_this3","keyCounter","getToolbarControlConfiguration","controlName","getTranslations","langTranslations","languages","customTranslations","getToolbarPosition","toLowerCase","_i","_keys","undefined","_i2","_keys2","EditorToolbar","_ref$visible","hidden","Translator","split","blockHTMLMap","_blockHTMLMap","entityHTMLMap","_entityHTMLMap","data","isInlineStyleCollection","getInlineStyleCollectionValue","getInlineStylesCss","toHTML","html","isListBlock","blockCount","blockTag","blockStyle","blockOpenTag","blockCloseTag","lastEntityKey","currentOpenedStylesMap","charIndex","getText","isLastChar","entityOpenTag","entityCloseTag","currentEntityKey","entityHaveToClose","entityHaveToOpen","charInlineStyles","getInlineStyleAt","styleCloseTagBeforeList","styleOpenTagList","styleCloseTagList","styleCloseTagOpenIndexList","styleCloseTagBeforeOpenIndexList","_styleCloseTagOpenInd","closedIndex","_styleCloseTagBeforeO","j","_i3","_styleOpenTagList","k","createContext","MUIEditorState","editorFactories","createWithContent","editorWrapper","MUIEditor","_ref$onFocus","onFocus","_ref$onBlur","onBlur","_ref$config","editorRef","useRef","translateRef","translationsRef","toolbarVisibleConfig","isToolbarVisible","setIsToolbarVisible","setIsResizeImageDialogVisible","setResizeImageEntityKey","useCallback","translator","top","bottom","handleKeyCommand","command","newState","handleFocus","handleBlur","editorWrapperProps","editorWrapperElement","EditorWrapper","Editor","GlobalStyles","styles","Provider"],"mappings":"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"}